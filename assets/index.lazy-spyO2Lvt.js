import{r as m,j as r}from"./react-Bpj1It56.js";import{u as f,a as h,S as g,b as j,r as b}from"./main-hZYZiN6R.js";import{L as w,n as y}from"./@tanstack-BQ3PdJvV.js";import{f as N,g as v,s as C,v as S,i as k}from"./@heroui-CIH5ufY4.js";import"./@babel-houl6Xsg.js";import"./core-js-pure-evcE_T-D.js";import"./react-dom-By78mrQC.js";import"./scheduler-8y5VlOXR.js";import"./idb-Bn1DMRyg.js";import"./react-helmet-async-BL1df5qm.js";import"./react-fast-compare-CoPa2Gs5.js";import"./invariant-BaQWlx5Y.js";import"./shallowequal-QcPrNyiR.js";import"./react-transition-group-CwkOSmso.js";import"./dom-helpers-k64VTSqm.js";import"./react-toastify-BeNbc-FJ.js";import"./clsx-B-dksMZM.js";import"./antd-Cx7N9Psy.js";import"./rc-util-BDnH4PQc.js";import"./@ant-design-AtsPa5Ww.js";import"./classnames-C0_Vbuxc.js";import"./@ctrl-DOFZgDuz.js";import"./rc-motion-BrDRrNAo.js";import"./@rc-component-DfZBjsxQ.js";import"./dayjs-DYhqyFLG.js";import"./rc-field-form-C5nkFfg4.js";import"./rc-image-CJVIC9RT.js";import"./rc-dialog-Oy9-Ncdj.js";import"./rc-pagination-BRLbcoVp.js";import"./rc-picker-oSZthl20.js";import"./smoothscroll-polyfill-DfrSojlF.js";import"./@react-aria-xE5HBTkH.js";import"./@react-stately-BNzC-r0j.js";import"./@internationalized-C6LEMtSM.js";import"./@swc-h1AXYk7E.js";import"./react-icons-C88MKWVs.js";import"./axios-DXsv3KKR.js";import"./lodash.debounce-DOTX7tph.js";import"./dompurify-CocPUCx9.js";import"./react-highlight-words-yh67jzXc.js";import"./react-html-parser-Bzk_WztA.js";import"./htmlparser2-QVUjCeQB.js";import"./entities-05SZEo_X.js";import"./inherits-BlmhoU4v.js";import"./events-CXH2uRM3.js";import"./domutils-nv7eZwOX.js";import"./dom-serializer-C1mRqh9f.js";import"./domelementtype-C_FFwB5S.js";import"./string_decoder-DSI1wpto.js";import"./safe-buffer-CMTcrbJ_.js";import"./buffer-DT9VzwNJ.js";import"./base64-js-DRz5BQNA.js";import"./ieee754-vIlwft-x.js";import"./react-scroll-to-bottom-CTjbJ2mK.js";import"./core-js-Dho04YfF.js";import"./@emotion-CBpc3bmA.js";import"./stylis-YPZU7XtI.js";import"./math-random-BDtfBM1x.js";import"./react-big-calendar-BzSGFtnG.js";import"./uncontrollable-Dt8teSny.js";import"./react-lifecycles-compat-AfN2QaV3.js";import"./prop-types-D1h4IAre.js";import"./date-arithmetic-DrY26MJF.js";import"./lodash-Cj-1ifDK.js";import"./react-overlays-0MuLoRkH.js";import"./@restart-JGbTMMQN.js";import"./@popperjs-DMGSESOy.js";import"./warning-Dwrh-cZ9.js";import"./memoize-one-BdPwpGay.js";import"./swiper-DTw7uyIM.js";import"./tiny-invariant-CopsF_GD.js";import"./tiny-warning-Dirz_SfZ.js";import"./use-sync-external-store-Ct5KFJC2.js";import"./framer-motion-BfgC9wdC.js";import"./motion-utils-C_SlKRoS.js";import"./motion-dom-DWDx2Ux7.js";import"./scroll-into-view-if-needed-BHvttMQE.js";import"./compute-scroll-into-view-DWa9QgjM.js";import"./tailwind-variants-wBLq28id.js";import"./tailwind-merge-CYizakiM.js";const D=m.memo(({category:a,item:i,isLoading:e})=>r.jsx(w,{to:`/sutra/${a}`,className:"flex justify-center items-center cursor-pointer",children:r.jsx(N,{isHoverable:!0,isFooterBlurred:!0,className:"w-full max-w-[200px] h-auto",children:r.jsxs(v,{className:"overflow-hidden p-0 relative",children:[e&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-black",children:r.jsx(C,{title:i.ຊື່ພຣະສູດ,size:"lg",className:"text-black"})}),r.jsx(S,{removeWrapper:!0,loading:"lazy",shadow:"sm",radius:"lg",alt:i.ຊື່ພຣະສູດ,className:`w-full h-full object-contain transition-opacity duration-300 ${e?"opacity-100":"opacity-0"}`,isLoading:e,src:`/images/sutra/${a}.jpg`})]})})})),rr=y("/sutra/")({component:I});function I(){const{scrollContainerRef:a}=f(),{data:i,isLoading:e,groupedData:l,searchTerm:o,setSearchTerm:s,currentlyPlayingId:n,handlePlayAudio:c,handleNextAudio:u}=h(),d=m.useCallback(t=>{s(t.target.value)},[s]),p=m.useMemo(()=>o.trim()===""?[]:i.filter(t=>t.ຊື່ພຣະສູດ.toLowerCase().includes(o.toLowerCase())),[o,i]);return r.jsxs("section",{ref:a,className:"flex flex-col items-center justify-center mb-4",children:[r.jsx(k,{"aria-label":"Search",labelPlacement:"outside",type:"search",placeholder:"ຄົ້ນຫາພຣະສູດທັງໝົດ...",classNames:{inputWrapper:"bg-default-100",input:"text-lg"},className:"mb-4 sticky top-14 z-20 w-full sm:max-w-md md:max-w-lg lg:max-w-xl",value:o,startContent:r.jsx(g,{className:"text-base text-default-400 pointer-events-none flex-shrink-0"}),onChange:d}),o.trim()===""&&!e&&r.jsx("div",{className:"grid gap-2 grid-cols-3 sm:grid-cols-5 md:grid-cols-5 lg:grid-cols-5 mb-20",children:l.map(([t,x])=>r.jsx(D,{category:t,item:x[0],isLoading:e},t))}),o.trim()!==""&&r.jsxs("div",{className:"flex flex-col gap-2 mb-20 p-2",children:[p.map(t=>r.jsx(j,{title:t.ຊື່ພຣະສູດ,detail:t.ພຣະສູດ,audio:t.ສຽງ,searchTerm:o,onClick:()=>{b.navigate({to:`/sutra/details/${t.ID}${window.location.search}`})},route:`/sutra/details/${t.ID}${window.location.search}`,isPlaying:n===t.ID,onPlay:()=>c(t.ID),onAudioEnd:u},t.ID)),p.length===0&&r.jsx("div",{className:"text-center text-white text-lg",children:"ບໍ່ພົບຂໍ້ມູນ"})]})]})}export{rr as Route};
