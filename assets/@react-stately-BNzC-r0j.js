import{r as s,a as L}from"./react-Bpj1It56.js";import{i as pt,l as Me,m as ye,r as Oe,s as G,t as Ie,a as Q,q as Z,n as Re,u as kt,h as At,d as ee,e as Mt,v as ge,k as $e,w as je,j as Ot,x as It,y as Pe,z as be,A as Rt,B as jt,C as Pt,D as De}from"./@internationalized-C6LEMtSM.js";function W(e,t,u){let[a,i]=s.useState(e||t),l=s.useRef(e!==void 0),n=e!==void 0;s.useEffect(()=>{let m=l.current;m!==n&&console.warn(`WARN: A component changed from ${m?"controlled":"uncontrolled"} to ${n?"controlled":"uncontrolled"}.`),l.current=n},[n]);let r=n?e:a,f=s.useCallback((m,...y)=>{let d=(D,...g)=>{u&&(Object.is(r,D)||u(D,...g)),n||(r=D)};typeof m=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((g,...B)=>{let h=m(n?r:g,...B);return d(h,...y),n?g:h})):(n||i(m),d(m,...y))},[n,r,u]);return[r,f]}function yu(e,t=-1/0,u=1/0){return Math.min(Math.max(e,t),u)}class U extends Set{constructor(t,u,a){super(t),t instanceof U?(this.anchorKey=u??t.anchorKey,this.currentKey=a??t.currentKey):(this.anchorKey=u??null,this.currentKey=a??null)}}function Ut(e,t){if(e.size!==t.size)return!1;for(let u of e)if(!t.has(u))return!1;return!0}function Tt(e){let{selectionMode:t="none",disallowEmptySelection:u=!1,allowDuplicateSelectionEvents:a,selectionBehavior:i="toggle",disabledBehavior:l="all"}=e,n=s.useRef(!1),[,r]=s.useState(!1),f=s.useRef(null),m=s.useRef(null),[,y]=s.useState(null),d=s.useMemo(()=>Ce(e.selectedKeys),[e.selectedKeys]),D=s.useMemo(()=>Ce(e.defaultSelectedKeys,new U),[e.defaultSelectedKeys]),[g,B]=W(d,D,e.onSelectionChange),h=s.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),[x,$]=s.useState(i);i==="replace"&&x==="toggle"&&typeof g=="object"&&g.size===0&&$("replace");let E=s.useRef(i);return s.useEffect(()=>{i!==E.current&&($(i),E.current=i)},[i]),{selectionMode:t,disallowEmptySelection:u,selectionBehavior:x,setSelectionBehavior:$,get isFocused(){return n.current},setFocused(o){n.current=o,r(o)},get focusedKey(){return f.current},get childFocusStrategy(){return m.current},setFocusedKey(o,S="first"){f.current=o,m.current=S,y(o)},selectedKeys:g,setSelectedKeys(o){(a||!Ut(o,g))&&B(o)},disabledKeys:h,disabledBehavior:l}}function Ce(e,t){return e?e==="all"?"all":new U(e):t}function Ue(e){return null}Ue.getCollectionNode=function*(t,u){let{childItems:a,title:i,children:l}=t,n=t.title||t.children,r=t.textValue||(typeof n=="string"?n:"")||t["aria-label"]||"";!r&&!(u!=null&&u.suppressTextValueWarning)&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:t,rendered:n,textValue:r,"aria-label":t["aria-label"],hasChildNodes:zt(t),*childNodes(){if(a)for(let f of a)yield{type:"item",value:f};else if(i){let f=[];L.Children.forEach(l,m=>{f.push({type:"item",element:m})}),yield*f}}}};function zt(e){return e.hasChildItems!=null?e.hasChildItems:!!(e.childItems||e.title&&L.Children.count(e.children)>0)}let hu=Ue;class Zt{build(t,u){return this.context=u,Ve(()=>this.iterateCollection(t))}*iterateCollection(t){let{children:u,items:a}=t;if(L.isValidElement(u)&&u.type===L.Fragment)yield*this.iterateCollection({children:u.props.children,items:a});else if(typeof u=="function"){if(!a)throw new Error("props.children was a function but props.items is missing");let i=0;for(let l of a)yield*this.getFullNode({value:l,index:i},{renderer:u}),i++}else{let i=[];L.Children.forEach(u,n=>{n&&i.push(n)});let l=0;for(let n of i){let r=this.getFullNode({element:n,index:l},{});for(let f of r)l++,yield f}}}getKey(t,u,a,i){if(t.key!=null)return t.key;if(u.type==="cell"&&u.key!=null)return`${i}${u.key}`;let l=u.value;if(l!=null){var n;let r=(n=l.key)!==null&&n!==void 0?n:l.id;if(r==null)throw new Error("No key found for item");return r}return i?`${i}.${u.index}`:`$.${u.index}`}getChildState(t,u){return{renderer:u.renderer||t.renderer}}*getFullNode(t,u,a,i){if(L.isValidElement(t.element)&&t.element.type===L.Fragment){let x=[];L.Children.forEach(t.element.props.children,E=>{x.push(E)});var l;let $=(l=t.index)!==null&&l!==void 0?l:0;for(const E of x)yield*this.getFullNode({element:E,index:$++},u,a,i);return}let n=t.element;if(!n&&t.value&&u&&u.renderer){let x=this.cache.get(t.value);if(x&&(!x.shouldInvalidate||!x.shouldInvalidate(this.context))){x.index=t.index,x.parentKey=i?i.key:null,yield x;return}n=u.renderer(t.value)}if(L.isValidElement(n)){let x=n.type;if(typeof x!="function"&&typeof x.getCollectionNode!="function"){let S=n.type;throw new Error(`Unknown element <${S}> in collection.`)}let $=x.getCollectionNode(n.props,this.context);var r;let E=(r=t.index)!==null&&r!==void 0?r:0,o=$.next();for(;!o.done&&o.value;){let S=o.value;t.index=E;var f;let V=(f=S.key)!==null&&f!==void 0?f:null;V==null&&(V=S.element?null:this.getKey(n,t,u,a));let O=[...this.getFullNode({...S,key:V,index:E,wrapper:Lt(t.wrapper,S.wrapper)},this.getChildState(u,S),a?`${a}${n.key}`:n.key,i)];for(let w of O){var m,y;w.value=(y=(m=S.value)!==null&&m!==void 0?m:t.value)!==null&&y!==void 0?y:null,w.value&&this.cache.set(w.value,w);var d;if(t.type&&w.type!==t.type)throw new Error(`Unsupported type <${oe(w.type)}> in <${oe((d=i==null?void 0:i.type)!==null&&d!==void 0?d:"unknown parent type")}>. Only <${oe(t.type)}> is supported.`);E++,yield w}o=$.next(O)}return}if(t.key==null||t.type==null)return;let D=this;var g,B;let h={type:t.type,props:t.props,key:t.key,parentKey:i?i.key:null,value:(g=t.value)!==null&&g!==void 0?g:null,level:i?i.level+1:0,index:t.index,rendered:t.rendered,textValue:(B=t.textValue)!==null&&B!==void 0?B:"","aria-label":t["aria-label"],wrapper:t.wrapper,shouldInvalidate:t.shouldInvalidate,hasChildNodes:t.hasChildNodes||!1,childNodes:Ve(function*(){if(!t.hasChildNodes||!t.childNodes)return;let x=0;for(let $ of t.childNodes()){$.key!=null&&($.key=`${h.key}${$.key}`);let E=D.getFullNode({...$,index:x},D.getChildState(u,$),h.key,h);for(let o of E)x++,yield o}})};yield h}constructor(){this.cache=new WeakMap}}function Ve(e){let t=[],u=null;return{*[Symbol.iterator](){for(let a of t)yield a;u||(u=e());for(let a of u)t.push(a),yield a}}}function Lt(e,t){if(e&&t)return u=>e(t(u));if(e)return e;if(t)return t}function oe(e){return e[0].toUpperCase()+e.slice(1)}function Gt(e,t,u){let a=s.useMemo(()=>new Zt,[]),{children:i,items:l,collection:n}=e;return s.useMemo(()=>{if(n)return n;let f=a.build({children:i,items:l},u);return t(f)},[a,i,l,n,u,t])}function Te(e,t){return typeof t.getChildren=="function"?t.getChildren(e.key):e.childNodes}function Wt(e){return qt(e)}function qt(e,t){for(let u of e)return u}function de(e,t,u){if(t.parentKey===u.parentKey)return t.index-u.index;let a=[...Ee(e,t),t],i=[...Ee(e,u),u],l=a.slice(0,i.length).findIndex((n,r)=>n!==i[r]);return l!==-1?(t=a[l],u=i[l],t.index-u.index):a.findIndex(n=>n===u)>=0?1:(i.findIndex(n=>n===t)>=0,-1)}function Ee(e,t){let u=[],a=t;for(;(a==null?void 0:a.parentKey)!=null;)a=e.getItem(a.parentKey),a&&u.unshift(a);return u}const we=new WeakMap;function vu(e){let t=we.get(e);if(t!=null)return t;let u=0,a=i=>{for(let l of i)l.type==="section"?a(Te(l,e)):u++};return a(e),we.set(e,u),u}class Ht{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(t){this.state.setSelectionBehavior(t)}get isFocused(){return this.state.isFocused}setFocused(t){this.state.setFocused(t)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(t,u){(t==null||this.collection.getItem(t))&&this.state.setFocusedKey(t,u)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(t){if(this.state.selectionMode==="none")return!1;let u=this.getKey(t);return u==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(u):this.state.selectedKeys.has(u)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let t=this.getSelectAllKeys(),u=this.state.selectedKeys;return this._isSelectAll=t.every(a=>u.has(a)),this._isSelectAll}get firstSelectedKey(){let t=null;for(let a of this.state.selectedKeys){let i=this.collection.getItem(a);(!t||i&&de(this.collection,i,t)<0)&&(t=i)}var u;return(u=t==null?void 0:t.key)!==null&&u!==void 0?u:null}get lastSelectedKey(){let t=null;for(let a of this.state.selectedKeys){let i=this.collection.getItem(a);(!t||i&&de(this.collection,i,t)>0)&&(t=i)}var u;return(u=t==null?void 0:t.key)!==null&&u!==void 0?u:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(t);return}let u=this.getKey(t);if(u==null)return;let a;if(this.state.selectedKeys==="all")a=new U([u],u,u);else{let n=this.state.selectedKeys;var i;let r=(i=n.anchorKey)!==null&&i!==void 0?i:u;a=new U(n,r,u);var l;for(let f of this.getKeyRange(r,(l=n.currentKey)!==null&&l!==void 0?l:u))a.delete(f);for(let f of this.getKeyRange(u,r))this.canSelectItem(f)&&a.add(f)}this.state.setSelectedKeys(a)}getKeyRange(t,u){let a=this.collection.getItem(t),i=this.collection.getItem(u);return a&&i?de(this.collection,a,i)<=0?this.getKeyRangeInternal(t,u):this.getKeyRangeInternal(u,t):[]}getKeyRangeInternal(t,u){var a;if(!((a=this.layoutDelegate)===null||a===void 0)&&a.getKeyRange)return this.layoutDelegate.getKeyRange(t,u);let i=[],l=t;for(;l!=null;){let n=this.collection.getItem(l);if(n&&(n.type==="item"||n.type==="cell"&&this.allowsCellSelection)&&i.push(l),l===u)return i;l=this.collection.getKeyAfter(l)}return[]}getKey(t){let u=this.collection.getItem(t);if(!u||u.type==="cell"&&this.allowsCellSelection)return t;for(;u&&u.type!=="item"&&u.parentKey!=null;)u=this.collection.getItem(u.parentKey);return!u||u.type!=="item"?null:u.key}toggleSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(t)){this.replaceSelection(t);return}let u=this.getKey(t);if(u==null)return;let a=new U(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);a.has(u)?a.delete(u):this.canSelectItem(u)&&(a.add(u),a.anchorKey=u,a.currentKey=u),!(this.disallowEmptySelection&&a.size===0)&&this.state.setSelectedKeys(a)}replaceSelection(t){if(this.selectionMode==="none")return;let u=this.getKey(t);if(u==null)return;let a=this.canSelectItem(u)?new U([u],u,u):new U;this.state.setSelectedKeys(a)}setSelectedKeys(t){if(this.selectionMode==="none")return;let u=new U;for(let a of t){let i=this.getKey(a);if(i!=null&&(u.add(i),this.selectionMode==="single"))break}this.state.setSelectedKeys(u)}getSelectAllKeys(){let t=[],u=a=>{for(;a!=null;){if(this.canSelectItem(a)){var i;let n=this.collection.getItem(a);(n==null?void 0:n.type)==="item"&&t.push(a);var l;n!=null&&n.hasChildNodes&&(this.allowsCellSelection||n.type!=="item")&&u((l=(i=Wt(Te(n,this.collection)))===null||i===void 0?void 0:i.key)!==null&&l!==void 0?l:null)}a=this.collection.getKeyAfter(a)}};return u(this.collection.getFirstKey()),t}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new U)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(t,u){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(t)&&!this.disallowEmptySelection?this.toggleSelection(t):this.replaceSelection(t):this.selectionBehavior==="toggle"||u&&(u.pointerType==="touch"||u.pointerType==="virtual")?this.toggleSelection(t):this.replaceSelection(t))}isSelectionEqual(t){if(t===this.state.selectedKeys)return!0;let u=this.selectedKeys;if(t.size!==u.size)return!1;for(let a of t)if(!u.has(a))return!1;for(let a of u)if(!t.has(a))return!1;return!0}canSelectItem(t){var u;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(t))return!1;let a=this.collection.getItem(t);return!(!a||!(a==null||(u=a.props)===null||u===void 0)&&u.isDisabled||a.type==="cell"&&!this.allowsCellSelection)}isDisabled(t){var u,a;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(t)||!!(!((a=this.collection.getItem(t))===null||a===void 0||(u=a.props)===null||u===void 0)&&u.isDisabled))}isLink(t){var u,a;return!!(!((a=this.collection.getItem(t))===null||a===void 0||(u=a.props)===null||u===void 0)&&u.href)}getItemProps(t){var u;return(u=this.collection.getItem(t))===null||u===void 0?void 0:u.props}constructor(t,u,a){this.collection=t,this.state=u;var i;this.allowsCellSelection=(i=a==null?void 0:a.allowsCellSelection)!==null&&i!==void 0?i:!1,this._isSelectAll=null,this.layoutDelegate=(a==null?void 0:a.layoutDelegate)||null}}const ze={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},Ze={...ze,customError:!0,valid:!1},te={isInvalid:!1,validationDetails:ze,validationErrors:[]},Yt=s.createContext({}),Be="__formValidationState"+Date.now();function Le(e){if(e[Be]){let{realtimeValidation:t,displayValidation:u,updateValidation:a,resetValidation:i,commitValidation:l}=e[Be];return{realtimeValidation:t,displayValidation:u,updateValidation:a,resetValidation:i,commitValidation:l}}return Qt(e)}function Qt(e){let{isInvalid:t,validationState:u,name:a,value:i,builtinValidation:l,validate:n,validationBehavior:r="aria"}=e;u&&(t||(t=u==="invalid"));let f=t!==void 0?{isInvalid:t,validationErrors:[],validationDetails:Ze}:null,m=s.useMemo(()=>{if(!n||i==null)return null;let K=Jt(n,i);return Se(K)},[n,i]);l!=null&&l.validationDetails.valid&&(l=void 0);let y=s.useContext(Yt),d=s.useMemo(()=>a?Array.isArray(a)?a.flatMap(K=>he(y[K])):he(y[a]):[],[y,a]),[D,g]=s.useState(y),[B,h]=s.useState(!1);y!==D&&(g(y),h(!1));let x=s.useMemo(()=>Se(B?[]:d),[B,d]),$=s.useRef(te),[E,o]=s.useState(te),S=s.useRef(te),V=()=>{if(!M)return;O(!1);let K=m||l||$.current;ce(K,S.current)||(S.current=K,o(K))},[M,O]=s.useState(!1);return s.useEffect(V),{realtimeValidation:f||x||m||l||te,displayValidation:r==="native"?f||x||E:f||x||m||l||E,updateValidation(K){r==="aria"&&!ce(E,K)?o(K):$.current=K},resetValidation(){let K=te;ce(K,S.current)||(S.current=K,o(K)),r==="native"&&O(!1),h(!0)},commitValidation(){r==="native"&&O(!0),h(!0)}}}function he(e){return e?Array.isArray(e)?e:[e]:[]}function Jt(e,t){if(typeof e=="function"){let u=e(t);if(u&&typeof u!="boolean")return he(u)}return[]}function Se(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:Ze}:null}function ce(e,t){return e===t?!0:!!e&&!!t&&e.isInvalid===t.isInvalid&&e.validationErrors.length===t.validationErrors.length&&e.validationErrors.every((u,a)=>u===t.validationErrors[a])&&Object.entries(e.validationDetails).every(([u,a])=>t.validationDetails[u]===a)}function gu(e={}){let{isReadOnly:t}=e,[u,a]=W(e.isSelected,e.defaultSelected||!1,e.onChange);function i(n){t||a(n)}function l(){t||a(!u)}return{isSelected:u,setSelected:i,toggle:l}}function Ge(e){let[t,u]=W(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const a=s.useCallback(()=>{u(!0)},[u]),i=s.useCallback(()=>{u(!1)},[u]),l=s.useCallback(()=>{u(!t)},[u,t]);return{isOpen:t,setOpen:u,open:a,close:i,toggle:l}}function $u(e){let t=Ge(e),[u,a]=s.useState(null),[i,l]=s.useState([]),n=()=>{l([]),t.close()};return{focusStrategy:u,...t,open(m=null){a(m),t.open()},toggle(m=null){a(m),t.toggle()},close(){n()},expandedKeysStack:i,openSubmenu:(m,y)=>{l(d=>y>d.length?d:[...d.slice(0,y),m])},closeSubmenu:(m,y)=>{l(d=>d[y]===m?d.slice(0,y):d)}}}class Ke{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let u=this.keyMap.get(t);var a;return u&&(a=u.prevKey)!==null&&a!==void 0?a:null}getKeyAfter(t){let u=this.keyMap.get(t);var a;return u&&(a=u.nextKey)!==null&&a!==void 0?a:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){var u;return(u=this.keyMap.get(t))!==null&&u!==void 0?u:null}at(t){const u=[...this.getKeys()];return this.getItem(u[t])}getChildren(t){let u=this.keyMap.get(t);return(u==null?void 0:u.childNodes)||[]}constructor(t){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=t;let u=n=>{if(this.keyMap.set(n.key,n),n.childNodes&&n.type==="section")for(let r of n.childNodes)u(r)};for(let n of t)u(n);let a=null,i=0;for(let[n,r]of this.keyMap)a?(a.nextKey=n,r.prevKey=a.key):(this.firstKey=n,r.prevKey=void 0),r.type==="item"&&(r.index=i++),a=r,a.nextKey=void 0;var l;this.lastKey=(l=a==null?void 0:a.key)!==null&&l!==void 0?l:null}}function Xt(e){let{filter:t,layoutDelegate:u}=e,a=Tt(e),i=s.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),l=s.useCallback(y=>t?new Ke(t(y)):new Ke(y),[t]),n=s.useMemo(()=>({suppressTextValueWarning:e.suppressTextValueWarning}),[e.suppressTextValueWarning]),r=Gt(e,l,n),f=s.useMemo(()=>new Ht(r,a,{layoutDelegate:u}),[r,a,u]);const m=s.useRef(null);return s.useEffect(()=>{if(a.focusedKey!=null&&!r.getItem(a.focusedKey)&&m.current){const $=m.current.getItem(a.focusedKey),E=[...m.current.getKeys()].map(w=>{const k=m.current.getItem(w);return(k==null?void 0:k.type)==="item"?k:null}).filter(w=>w!==null),o=[...r.getKeys()].map(w=>{const k=r.getItem(w);return(k==null?void 0:k.type)==="item"?k:null}).filter(w=>w!==null);var y,d;const S=((y=E==null?void 0:E.length)!==null&&y!==void 0?y:0)-((d=o==null?void 0:o.length)!==null&&d!==void 0?d:0);var D,g,B;let V=Math.min(S>1?Math.max(((D=$==null?void 0:$.index)!==null&&D!==void 0?D:0)-S+1,0):(g=$==null?void 0:$.index)!==null&&g!==void 0?g:0,((B=o==null?void 0:o.length)!==null&&B!==void 0?B:0)-1),M=null,O=!1;for(;V>=0;){if(!f.isDisabled(o[V].key)){M=o[V];break}if(V<o.length-1&&!O)V++;else{O=!0;var h,x;V>((h=$==null?void 0:$.index)!==null&&h!==void 0?h:0)&&(V=(x=$==null?void 0:$.index)!==null&&x!==void 0?x:0),V--}}a.setFocusedKey(M?M.key:null)}m.current=r},[r,f,a,a.focusedKey]),{collection:r,disabledKeys:i,selectionManager:f}}function _t(e){var t;let[u,a]=W(e.selectedKey,(t=e.defaultSelectedKey)!==null&&t!==void 0?t:null,e.onSelectionChange),i=s.useMemo(()=>u!=null?[u]:[],[u]),{collection:l,disabledKeys:n,selectionManager:r}=Xt({...e,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:i,onSelectionChange:m=>{if(m==="all")return;var y;let d=(y=m.values().next().value)!==null&&y!==void 0?y:null;d===u&&e.onSelectionChange&&e.onSelectionChange(d),a(d)}}),f=u!=null?l.getItem(u):null;return{collection:l,disabledKeys:n,selectionManager:r,selectedKey:u,setSelectedKey:a,selectedItem:f}}function bu(e){var t,u;let a=_t({...e,suppressTextValueWarning:!0,defaultSelectedKey:(u=(t=e.defaultSelectedKey)!==null&&t!==void 0?t:Fe(e.collection,e.disabledKeys?new Set(e.disabledKeys):new Set))!==null&&u!==void 0?u:void 0}),{selectionManager:i,collection:l,selectedKey:n}=a,r=s.useRef(n);return s.useEffect(()=>{let f=n;(i.isEmpty||f==null||!l.getItem(f))&&(f=Fe(l,a.disabledKeys),f!=null&&i.setSelectedKeys([f])),(f!=null&&i.focusedKey==null||!i.isFocused&&f!==r.current)&&i.setFocusedKey(f),r.current=f}),{...a,isDisabled:e.isDisabled||!1}}function Fe(e,t){let u=null;if(e){var a,i,l,n;for(u=e.getFirstKey();u!=null&&(t.has(u)||!((i=e.getItem(u))===null||i===void 0||(a=i.props)===null||a===void 0)&&a.isDisabled)&&u!==e.getLastKey();)u=e.getKeyAfter(u);u!=null&&(t.has(u)||!((n=e.getItem(u))===null||n===void 0||(l=n.props)===null||l===void 0)&&l.isDisabled)&&u===e.getLastKey()&&(u=e.getFirstKey())}return u}function fe(e,t,u){return t!=null&&e.compare(t)<0||u!=null&&e.compare(u)>0}function pe(e,t,u,a,i){let l={};for(let r in t)l[r]=Math.floor(t[r]/2),l[r]>0&&t[r]%2===0&&l[r]--;let n=X(e,t,u).subtract(l);return le(e,n,t,u,a,i)}function X(e,t,u,a,i){let l=e;return t.years?l=pt(e):t.months?l=Me(e):t.weeks&&(l=ye(e,u)),le(e,l,t,u,a,i)}function ve(e,t,u,a,i){let l={...t};l.days?l.days--:l.weeks?l.weeks--:l.months?l.months--:l.years&&l.years--;let n=X(e,t,u).subtract(l);return le(e,n,t,u,a,i)}function le(e,t,u,a,i,l){if(i&&e.compare(i)>=0){let n=Oe(t,X(G(i),u,a));n&&(t=n)}if(l&&e.compare(l)<=0){let n=Ie(t,ve(G(l),u,a));n&&(t=n)}return t}function J(e,t,u){if(t){let a=Oe(e,G(t));a&&(e=a)}if(u){let a=Ie(e,G(u));a&&(e=a)}return e}function Nt(e,t,u){if(!u)return e;for(;e.compare(t)>=0&&u(e);)e=e.subtract({days:1});return e.compare(t)>=0?e:null}function xu(e){let t=s.useMemo(()=>new Q(e.locale),[e.locale]),u=s.useMemo(()=>t.resolvedOptions(),[t]),{locale:a,createCalendar:i,visibleDuration:l={months:1},minValue:n,maxValue:r,selectionAlignment:f,isDateUnavailable:m,pageBehavior:y="visible"}=e,d=s.useMemo(()=>i(u.calendar),[i,u.calendar]);var D;let[g,B]=W(e.value,(D=e.defaultValue)!==null&&D!==void 0?D:null,e.onChange),h=s.useMemo(()=>g?Z(G(g),d):null,[g,d]),x=s.useMemo(()=>g&&"timeZone"in g?g.timeZone:u.timeZone,[g,u.timeZone]),$=s.useMemo(()=>e.focusedValue?J(Z(G(e.focusedValue),d),n,r):void 0,[e.focusedValue,d,n,r]),E=s.useMemo(()=>J(e.defaultFocusedValue?Z(G(e.defaultFocusedValue),d):h||Z(Re(x),d),n,r),[e.defaultFocusedValue,h,x,d,n,r]),[o,S]=W($,E,e.onFocusChange),[V,M]=s.useState(()=>{switch(f){case"start":return X(o,l,a,n,r);case"end":return ve(o,l,a,n,r);case"center":default:return pe(o,l,a,n,r)}}),[O,w]=s.useState(e.autoFocus||!1),k=s.useMemo(()=>{let v={...l};return v.days?v.days--:v.days=-1,V.add(v)},[V,l]),[K,p]=s.useState(d.identifier);if(d.identifier!==K){let v=Z(o,d);M(pe(v,l,a,n,r)),S(v),p(d.identifier)}fe(o,n,r)?S(J(o,n,r)):o.compare(V)<0?M(ve(o,l,a,n,r)):o.compare(k)>0&&M(X(o,l,a,n,r));function b(v){v=J(v,n,r),S(v)}function C(v){if(!e.isDisabled&&!e.isReadOnly){let R=v;if(R===null){B(null);return}if(R=J(R,n,r),R=Nt(R,V,m),!R)return;R=Z(R,(g==null?void 0:g.calendar)||new ge),g&&"hour"in g?B(g.set(R)):B(R)}}let j=s.useMemo(()=>h?m&&m(h)?!0:fe(h,n,r):!1,[h,m,n,r]),_=e.isInvalid||e.validationState==="invalid"||j,ne=_?"invalid":null,F=s.useMemo(()=>y==="visible"?l:me(l),[y,l]);var T,q;return{isDisabled:(T=e.isDisabled)!==null&&T!==void 0?T:!1,isReadOnly:(q=e.isReadOnly)!==null&&q!==void 0?q:!1,value:h,setValue:C,visibleRange:{start:V,end:k},minValue:n,maxValue:r,focusedDate:o,timeZone:x,validationState:ne,isValueInvalid:_,setFocusedDate(v){b(v),w(!0)},focusNextDay(){b(o.add({days:1}))},focusPreviousDay(){b(o.subtract({days:1}))},focusNextRow(){l.days?this.focusNextPage():(l.weeks||l.months||l.years)&&b(o.add({weeks:1}))},focusPreviousRow(){l.days?this.focusPreviousPage():(l.weeks||l.months||l.years)&&b(o.subtract({weeks:1}))},focusNextPage(){let v=V.add(F);S(J(o.add(F),n,r)),M(X(le(o,v,F,a,n,r),F,a))},focusPreviousPage(){let v=V.subtract(F);S(J(o.subtract(F),n,r)),M(X(le(o,v,F,a,n,r),F,a))},focusSectionStart(){l.days?b(V):l.weeks?b(ye(o,a)):(l.months||l.years)&&b(Me(o))},focusSectionEnd(){l.days?b(k):l.weeks?b(kt(o,a)):(l.months||l.years)&&b(At(o))},focusNextSection(v){if(!v&&!l.days){b(o.add(me(l)));return}l.days?this.focusNextPage():l.weeks?b(o.add({months:1})):(l.months||l.years)&&b(o.add({years:1}))},focusPreviousSection(v){if(!v&&!l.days){b(o.subtract(me(l)));return}l.days?this.focusPreviousPage():l.weeks?b(o.subtract({months:1})):(l.months||l.years)&&b(o.subtract({years:1}))},selectFocusedDate(){C(o)},selectDate(v){C(v)},isFocused:O,setFocused:w,isInvalid(v){return fe(v,n,r)},isSelected(v){return h!=null&&ee(v,h)&&!this.isCellDisabled(v)&&!this.isCellUnavailable(v)},isCellFocused(v){return O&&o&&ee(v,o)},isCellDisabled(v){return e.isDisabled||v.compare(V)<0||v.compare(k)>0||this.isInvalid(v)},isCellUnavailable(v){return e.isDateUnavailable?e.isDateUnavailable(v):!1},isPreviousVisibleRangeInvalid(){let v=V.subtract({days:1});return ee(v,V)||this.isInvalid(v)},isNextVisibleRangeInvalid(){let v=k.add({days:1});return ee(v,k)||this.isInvalid(v)},getDatesInWeek(v,R=V){let P=R.add({weeks:v}),H=[];P=ye(P,a);let ie=Mt(P,a);for(let Y=0;Y<ie;Y++)H.push(null);for(;H.length<7;){H.push(P);let Y=P.add({days:1});if(ee(P,Y))break;P=Y}for(;H.length<7;)H.push(null);return H}}}function me(e){let t={...e};for(let u in e)t[u]=1;return t}var We={};We={rangeOverflow:e=>`يجب أن تكون القيمة ${e.maxValue} أو قبل ذلك.`,rangeReversed:"تاريخ البدء يجب أن يكون قبل تاريخ الانتهاء.",rangeUnderflow:e=>`يجب أن تكون القيمة ${e.minValue} أو بعد ذلك.`,unavailableDate:"البيانات المحددة غير متاحة."};var qe={};qe={rangeOverflow:e=>`Стойността трябва да е ${e.maxValue} или по-ранна.`,rangeReversed:"Началната дата трябва да е преди крайната.",rangeUnderflow:e=>`Стойността трябва да е ${e.minValue} или по-късно.`,unavailableDate:"Избраната дата не е налична."};var He={};He={rangeOverflow:e=>`Hodnota musí být ${e.maxValue} nebo dřívější.`,rangeReversed:"Datum zahájení musí předcházet datu ukončení.",rangeUnderflow:e=>`Hodnota musí být ${e.minValue} nebo pozdější.`,unavailableDate:"Vybrané datum není k dispozici."};var Ye={};Ye={rangeOverflow:e=>`Værdien skal være ${e.maxValue} eller tidligere.`,rangeReversed:"Startdatoen skal være før slutdatoen.",rangeUnderflow:e=>`Værdien skal være ${e.minValue} eller nyere.`,unavailableDate:"Den valgte dato er ikke tilgængelig."};var Qe={};Qe={rangeOverflow:e=>`Der Wert muss ${e.maxValue} oder früher sein.`,rangeReversed:"Das Anfangsdatum muss vor dem Enddatum liegen.",rangeUnderflow:e=>`Der Wert muss ${e.minValue} oder später sein.`,unavailableDate:"Das ausgewählte Datum ist nicht verfügbar."};var Je={};Je={rangeOverflow:e=>`Η τιμή πρέπει να είναι ${e.maxValue} ή παλαιότερη.`,rangeReversed:"Η ημερομηνία έναρξης πρέπει να είναι πριν από την ημερομηνία λήξης.",rangeUnderflow:e=>`Η τιμή πρέπει να είναι ${e.minValue} ή μεταγενέστερη.`,unavailableDate:"Η επιλεγμένη ημερομηνία δεν είναι διαθέσιμη."};var Xe={};Xe={rangeUnderflow:e=>`Value must be ${e.minValue} or later.`,rangeOverflow:e=>`Value must be ${e.maxValue} or earlier.`,rangeReversed:"Start date must be before end date.",unavailableDate:"Selected date unavailable."};var _e={};_e={rangeOverflow:e=>`El valor debe ser ${e.maxValue} o anterior.`,rangeReversed:"La fecha de inicio debe ser anterior a la fecha de finalización.",rangeUnderflow:e=>`El valor debe ser ${e.minValue} o posterior.`,unavailableDate:"Fecha seleccionada no disponible."};var Ne={};Ne={rangeOverflow:e=>`Väärtus peab olema ${e.maxValue} või varasem.`,rangeReversed:"Alguskuupäev peab olema enne lõppkuupäeva.",rangeUnderflow:e=>`Väärtus peab olema ${e.minValue} või hilisem.`,unavailableDate:"Valitud kuupäev pole saadaval."};var et={};et={rangeOverflow:e=>`Arvon on oltava ${e.maxValue} tai sitä aikaisempi.`,rangeReversed:"Aloituspäivän on oltava ennen lopetuspäivää.",rangeUnderflow:e=>`Arvon on oltava ${e.minValue} tai sitä myöhäisempi.`,unavailableDate:"Valittu päivämäärä ei ole käytettävissä."};var tt={};tt={rangeOverflow:e=>`La valeur doit être ${e.maxValue} ou antérieure.`,rangeReversed:"La date de début doit être antérieure à la date de fin.",rangeUnderflow:e=>`La valeur doit être ${e.minValue} ou ultérieure.`,unavailableDate:"La date sélectionnée n’est pas disponible."};var ut={};ut={rangeOverflow:e=>`הערך חייב להיות ${e.maxValue} או מוקדם יותר.`,rangeReversed:"תאריך ההתחלה חייב להיות לפני תאריך הסיום.",rangeUnderflow:e=>`הערך חייב להיות ${e.minValue} או מאוחר יותר.`,unavailableDate:"התאריך הנבחר אינו זמין."};var at={};at={rangeOverflow:e=>`Vrijednost mora biti ${e.maxValue} ili ranije.`,rangeReversed:"Datum početka mora biti prije datuma završetka.",rangeUnderflow:e=>`Vrijednost mora biti ${e.minValue} ili kasnije.`,unavailableDate:"Odabrani datum nije dostupan."};var lt={};lt={rangeOverflow:e=>`Az értéknek ${e.maxValue} vagy korábbinak kell lennie.`,rangeReversed:"A kezdő dátumnak a befejező dátumnál korábbinak kell lennie.",rangeUnderflow:e=>`Az értéknek ${e.minValue} vagy későbbinek kell lennie.`,unavailableDate:"A kiválasztott dátum nem érhető el."};var nt={};nt={rangeOverflow:e=>`Il valore deve essere ${e.maxValue} o precedente.`,rangeReversed:"La data di inizio deve essere antecedente alla data di fine.",rangeUnderflow:e=>`Il valore deve essere ${e.minValue} o successivo.`,unavailableDate:"Data selezionata non disponibile."};var it={};it={rangeOverflow:e=>`値は ${e.maxValue} 以下にする必要があります。`,rangeReversed:"開始日は終了日より前にする必要があります。",rangeUnderflow:e=>`値は ${e.minValue} 以上にする必要があります。`,unavailableDate:"選択した日付は使用できません。"};var rt={};rt={rangeOverflow:e=>`값은 ${e.maxValue} 이전이어야 합니다.`,rangeReversed:"시작일은 종료일 이전이어야 합니다.",rangeUnderflow:e=>`값은 ${e.minValue} 이상이어야 합니다.`,unavailableDate:"선택한 날짜를 사용할 수 없습니다."};var st={};st={rangeOverflow:e=>`Reikšmė turi būti ${e.maxValue} arba ankstesnė.`,rangeReversed:"Pradžios data turi būti ankstesnė nei pabaigos data.",rangeUnderflow:e=>`Reikšmė turi būti ${e.minValue} arba naujesnė.`,unavailableDate:"Pasirinkta data nepasiekiama."};var ot={};ot={rangeOverflow:e=>`Vērtībai ir jābūt ${e.maxValue} vai agrākai.`,rangeReversed:"Sākuma datumam ir jābūt pirms beigu datuma.",rangeUnderflow:e=>`Vērtībai ir jābūt ${e.minValue} vai vēlākai.`,unavailableDate:"Atlasītais datums nav pieejams."};var dt={};dt={rangeOverflow:e=>`Verdien må være ${e.maxValue} eller tidligere.`,rangeReversed:"Startdatoen må være før sluttdatoen.",rangeUnderflow:e=>`Verdien må være ${e.minValue} eller senere.`,unavailableDate:"Valgt dato utilgjengelig."};var ct={};ct={rangeOverflow:e=>`Waarde moet ${e.maxValue} of eerder zijn.`,rangeReversed:"De startdatum moet voor de einddatum liggen.",rangeUnderflow:e=>`Waarde moet ${e.minValue} of later zijn.`,unavailableDate:"Geselecteerde datum niet beschikbaar."};var ft={};ft={rangeOverflow:e=>`Wartość musi mieć wartość ${e.maxValue} lub wcześniejszą.`,rangeReversed:"Data rozpoczęcia musi być wcześniejsza niż data zakończenia.",rangeUnderflow:e=>`Wartość musi mieć wartość ${e.minValue} lub późniejszą.`,unavailableDate:"Wybrana data jest niedostępna."};var mt={};mt={rangeOverflow:e=>`O valor deve ser ${e.maxValue} ou anterior.`,rangeReversed:"A data inicial deve ser anterior à data final.",rangeUnderflow:e=>`O valor deve ser ${e.minValue} ou posterior.`,unavailableDate:"Data selecionada indisponível."};var yt={};yt={rangeOverflow:e=>`O valor tem de ser ${e.maxValue} ou anterior.`,rangeReversed:"A data de início deve ser anterior à data de fim.",rangeUnderflow:e=>`O valor tem de ser ${e.minValue} ou posterior.`,unavailableDate:"Data selecionada indisponível."};var ht={};ht={rangeOverflow:e=>`Valoarea trebuie să fie ${e.maxValue} sau anterioară.`,rangeReversed:"Data de început trebuie să fie anterioară datei de sfârșit.",rangeUnderflow:e=>`Valoarea trebuie să fie ${e.minValue} sau ulterioară.`,unavailableDate:"Data selectată nu este disponibilă."};var vt={};vt={rangeOverflow:e=>`Значение должно быть не позже ${e.maxValue}.`,rangeReversed:"Дата начала должна предшествовать дате окончания.",rangeUnderflow:e=>`Значение должно быть не раньше ${e.minValue}.`,unavailableDate:"Выбранная дата недоступна."};var gt={};gt={rangeOverflow:e=>`Hodnota musí byť ${e.maxValue} alebo skoršia.`,rangeReversed:"Dátum začiatku musí byť skorší ako dátum konca.",rangeUnderflow:e=>`Hodnota musí byť ${e.minValue} alebo neskoršia.`,unavailableDate:"Vybratý dátum je nedostupný."};var $t={};$t={rangeOverflow:e=>`Vrednost mora biti ${e.maxValue} ali starejša.`,rangeReversed:"Začetni datum mora biti pred končnim datumom.",rangeUnderflow:e=>`Vrednost mora biti ${e.minValue} ali novejša.`,unavailableDate:"Izbrani datum ni na voljo."};var bt={};bt={rangeOverflow:e=>`Vrednost mora da bude ${e.maxValue} ili starija.`,rangeReversed:"Datum početka mora biti pre datuma završetka.",rangeUnderflow:e=>`Vrednost mora da bude ${e.minValue} ili novija.`,unavailableDate:"Izabrani datum nije dostupan."};var xt={};xt={rangeOverflow:e=>`Värdet måste vara ${e.maxValue} eller tidigare.`,rangeReversed:"Startdatumet måste vara före slutdatumet.",rangeUnderflow:e=>`Värdet måste vara ${e.minValue} eller senare.`,unavailableDate:"Det valda datumet är inte tillgängligt."};var Dt={};Dt={rangeOverflow:e=>`Değer, ${e.maxValue} veya öncesi olmalıdır.`,rangeReversed:"Başlangıç tarihi bitiş tarihinden önce olmalıdır.",rangeUnderflow:e=>`Değer, ${e.minValue} veya sonrası olmalıdır.`,unavailableDate:"Seçilen tarih kullanılamıyor."};var Ct={};Ct={rangeOverflow:e=>`Значення має бути не пізніше ${e.maxValue}.`,rangeReversed:"Дата початку має передувати даті завершення.",rangeUnderflow:e=>`Значення має бути не раніше ${e.minValue}.`,unavailableDate:"Вибрана дата недоступна."};var Vt={};Vt={rangeOverflow:e=>`值必须是 ${e.maxValue} 或更早日期。`,rangeReversed:"开始日期必须早于结束日期。",rangeUnderflow:e=>`值必须是 ${e.minValue} 或更晚日期。`,unavailableDate:"所选日期不可用。"};var Et={};Et={rangeOverflow:e=>`值必須是 ${e.maxValue} 或更早。`,rangeReversed:"開始日期必須在結束日期之前。",rangeUnderflow:e=>`值必須是 ${e.minValue} 或更晚。`,unavailableDate:"所選日期無法使用。"};var wt={};wt={"ar-AE":We,"bg-BG":qe,"cs-CZ":He,"da-DK":Ye,"de-DE":Qe,"el-GR":Je,"en-US":Xe,"es-ES":_e,"et-EE":Ne,"fi-FI":et,"fr-FR":tt,"he-IL":ut,"hr-HR":at,"hu-HU":lt,"it-IT":nt,"ja-JP":it,"ko-KR":rt,"lt-LT":st,"lv-LV":ot,"nb-NO":dt,"nl-NL":ct,"pl-PL":ft,"pt-BR":mt,"pt-PT":yt,"ro-RO":ht,"ru-RU":vt,"sk-SK":gt,"sl-SI":$t,"sr-SP":bt,"sv-SE":xt,"tr-TR":Dt,"uk-UA":Ct,"zh-CN":Vt,"zh-TW":Et};function eu(e){return e&&e.__esModule?e.default:e}const tu=new $e(eu(wt));function uu(){return typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US"}function Bt(e,t,u,a,i){let l=e!=null&&u!=null&&e.compare(u)>0,n=e!=null&&t!=null&&e.compare(t)<0,r=e!=null&&(a==null?void 0:a(e))||!1,f=l||n||r,m=[];if(f){let y=uu(),d=$e.getGlobalDictionaryForPackage("@react-stately/datepicker")||tu,D=new Ot(y,d),g=new Q(y,N({},i)),B=g.resolvedOptions().timeZone;n&&t!=null&&m.push(D.format("rangeUnderflow",{minValue:g.format(t.toDate(B))})),l&&u!=null&&m.push(D.format("rangeOverflow",{maxValue:g.format(u.toDate(B))})),r&&m.push(D.format("unavailableDate"))}return{isInvalid:f,validationErrors:m,validationDetails:{badInput:r,customError:!1,patternMismatch:!1,rangeOverflow:l,rangeUnderflow:n,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!f}}}const au={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},lu={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};function N(e,t){e={...t.shouldForceLeadingZeros?lu:au,...e};let a=t.granularity||"minute",i=Object.keys(e);var l;let n=i.indexOf((l=t.maxGranularity)!==null&&l!==void 0?l:"year");n<0&&(n=0);let r=i.indexOf(a);if(r<0&&(r=2),n>r)throw new Error("maxGranularity must be greater than granularity");let f=i.slice(n,r+1).reduce((y,d)=>(y[d]=e[d],y),{});return t.hourCycle!=null&&(f.hour12=t.hourCycle===12),f.timeZone=t.timeZone||"UTC",(a==="hour"||a==="minute"||a==="second")&&t.timeZone&&!t.hideTimeZone&&(f.timeZoneName="short"),t.showEra&&n===0&&(f.era="short"),f}function ke(e){return e&&"hour"in e?e:new je}function St(e,t){if(e===null)return null;if(e)return Z(e,t)}function ue(e,t,u,a){if(e)return St(e,u);let i=Z(It(a??Pe()).set({hour:0,minute:0,second:0,millisecond:0}),u);return t==="year"||t==="month"||t==="day"?G(i):a?i:be(i)}function Kt(e,t){let u=e&&"timeZone"in e?e.timeZone:void 0,a=e&&"minute"in e?"minute":"day";if(e&&t&&!(t in e))throw new Error("Invalid granularity "+t+" for value "+e.toString());let[i,l]=s.useState([a,u]);e&&(i[0]!==a||i[1]!==u)&&l([a,u]),t||(t=e?a:i[0]);let n=e?u:i[1];return[t,n]}function Du(e){let t=Ge(e),[u,a]=W(e.value,e.defaultValue||null,e.onChange),i=u||e.placeholderValue||null,[l,n]=Kt(i,e.granularity),r=u!=null?u.toDate(n??"UTC"):null,f=l==="hour"||l==="minute"||l==="second";var m;let y=(m=e.shouldCloseOnSelect)!==null&&m!==void 0?m:!0,[d,D]=s.useState(null),[g,B]=s.useState(null);if(u&&(d=u,"hour"in u&&(g=u)),i&&!(l in i))throw new Error("Invalid granularity "+l+" for value "+i.toString());let h=(u==null?void 0:u.calendar.identifier)==="gregory"&&u.era==="BC",x=s.useMemo(()=>({granularity:l,timeZone:n,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,showEra:h}),[l,e.hourCycle,e.shouldForceLeadingZeros,n,e.hideTimeZone,h]),{minValue:$,maxValue:E,isDateUnavailable:o}=e,S=s.useMemo(()=>Bt(u,$,E,o,x),[u,$,E,o,x]),V=Le({...e,value:u,builtinValidation:S}),M=V.displayValidation.isInvalid,O=e.validationState||(M?"invalid":null),w=(p,b)=>{a("timeZone"in b?b.set(G(p)):be(p,b)),D(null),B(null),V.commitValidation()};return{...V,value:u,setValue:a,dateValue:d,timeValue:g,setDateValue:p=>{let b=typeof y=="function"?y():y;f?g||b?w(p,g||ke(e.defaultValue||e.placeholderValue)):D(p):(a(p),V.commitValidation()),b&&t.setOpen(!1)},setTimeValue:p=>{d&&p?w(d,p):B(p)},granularity:l,hasTime:f,...t,setOpen(p){!p&&!u&&d&&f&&w(d,g||ke(e.defaultValue||e.placeholderValue)),t.setOpen(p)},validationState:O,isInvalid:M,formatValue(p,b){if(!r)return"";let C=N(b,x);return new Q(p,C).format(r)},getDateFormatter(p,b){let C={...x,...b},j=N({},C);return new Q(p,j)}}}const nu=new $e({ach:{year:"mwaka",month:"dwe",day:"nino"},af:{year:"jjjj",month:"mm",day:"dd"},am:{year:"ዓዓዓዓ",month:"ሚሜ",day:"ቀቀ"},an:{year:"aaaa",month:"mm",day:"dd"},ar:{year:"سنة",month:"شهر",day:"يوم"},ast:{year:"aaaa",month:"mm",day:"dd"},az:{year:"iiii",month:"aa",day:"gg"},be:{year:"гггг",month:"мм",day:"дд"},bg:{year:"гггг",month:"мм",day:"дд"},bn:{year:"yyyy",month:"মিমি",day:"dd"},br:{year:"bbbb",month:"mm",day:"dd"},bs:{year:"gggg",month:"mm",day:"dd"},ca:{year:"aaaa",month:"mm",day:"dd"},cak:{year:"jjjj",month:"ii",day:"q'q'"},ckb:{year:"ساڵ",month:"مانگ",day:"ڕۆژ"},cs:{year:"rrrr",month:"mm",day:"dd"},cy:{year:"bbbb",month:"mm",day:"dd"},da:{year:"åååå",month:"mm",day:"dd"},de:{year:"jjjj",month:"mm",day:"tt"},dsb:{year:"llll",month:"mm",day:"źź"},el:{year:"εεεε",month:"μμ",day:"ηη"},en:{year:"yyyy",month:"mm",day:"dd"},eo:{year:"jjjj",month:"mm",day:"tt"},es:{year:"aaaa",month:"mm",day:"dd"},et:{year:"aaaa",month:"kk",day:"pp"},eu:{year:"uuuu",month:"hh",day:"ee"},fa:{year:"سال",month:"ماه",day:"روز"},ff:{year:"hhhh",month:"ll",day:"ññ"},fi:{year:"vvvv",month:"kk",day:"pp"},fr:{year:"aaaa",month:"mm",day:"jj"},fy:{year:"jjjj",month:"mm",day:"dd"},ga:{year:"bbbb",month:"mm",day:"ll"},gd:{year:"bbbb",month:"mm",day:"ll"},gl:{year:"aaaa",month:"mm",day:"dd"},he:{year:"שנה",month:"חודש",day:"יום"},hr:{year:"gggg",month:"mm",day:"dd"},hsb:{year:"llll",month:"mm",day:"dd"},hu:{year:"éééé",month:"hh",day:"nn"},ia:{year:"aaaa",month:"mm",day:"dd"},id:{year:"tttt",month:"bb",day:"hh"},it:{year:"aaaa",month:"mm",day:"gg"},ja:{year:" 年 ",month:"月",day:"日"},ka:{year:"წწწწ",month:"თთ",day:"რრ"},kk:{year:"жжжж",month:"аа",day:"кк"},kn:{year:"ವವವವ",month:"ಮಿಮೀ",day:"ದಿದಿ"},ko:{year:"연도",month:"월",day:"일"},lb:{year:"jjjj",month:"mm",day:"dd"},lo:{year:"ປປປປ",month:"ດດ",day:"ວວ"},lt:{year:"mmmm",month:"mm",day:"dd"},lv:{year:"gggg",month:"mm",day:"dd"},meh:{year:"aaaa",month:"mm",day:"dd"},ml:{year:"വർഷം",month:"മാസം",day:"തീയതി"},ms:{year:"tttt",month:"mm",day:"hh"},nl:{year:"jjjj",month:"mm",day:"dd"},nn:{year:"åååå",month:"mm",day:"dd"},no:{year:"åååå",month:"mm",day:"dd"},oc:{year:"aaaa",month:"mm",day:"jj"},pl:{year:"rrrr",month:"mm",day:"dd"},pt:{year:"aaaa",month:"mm",day:"dd"},rm:{year:"oooo",month:"mm",day:"dd"},ro:{year:"aaaa",month:"ll",day:"zz"},ru:{year:"гггг",month:"мм",day:"дд"},sc:{year:"aaaa",month:"mm",day:"dd"},scn:{year:"aaaa",month:"mm",day:"jj"},sk:{year:"rrrr",month:"mm",day:"dd"},sl:{year:"llll",month:"mm",day:"dd"},sr:{year:"гггг",month:"мм",day:"дд"},sv:{year:"åååå",month:"mm",day:"dd"},szl:{year:"rrrr",month:"mm",day:"dd"},tg:{year:"сссс",month:"мм",day:"рр"},th:{year:"ปปปป",month:"ดด",day:"วว"},tr:{year:"yyyy",month:"aa",day:"gg"},uk:{year:"рррр",month:"мм",day:"дд"},"zh-CN":{year:"年",month:"月",day:"日"},"zh-TW":{year:"年",month:"月",day:"日"}},"en");function iu(e,t,u){return e==="era"||e==="dayPeriod"?t:e==="year"||e==="month"||e==="day"?nu.getStringForLocale(e,u):"––"}const re={year:!0,month:!0,day:!0,hour:!0,minute:!0,second:!0,dayPeriod:!0,era:!0},Ae={year:5,month:2,day:7,hour:2,minute:15,second:15},ru={dayperiod:"dayPeriod"};function su(e){let{locale:t,createCalendar:u,hideTimeZone:a,isDisabled:i=!1,isReadOnly:l=!1,isRequired:n=!1,minValue:r,maxValue:f,isDateUnavailable:m}=e,y=e.value||e.defaultValue||e.placeholderValue||null,[d,D]=Kt(y,e.granularity),g=D||"UTC";if(y&&!(d in y))throw new Error("Invalid granularity "+d+" for value "+y.toString());let B=s.useMemo(()=>new Q(t),[t]),h=s.useMemo(()=>u(B.resolvedOptions().calendar),[u,B]);var x;let[$,E]=W(e.value,(x=e.defaultValue)!==null&&x!==void 0?x:null,e.onChange),o=s.useMemo(()=>{var c;return(c=St($,h))!==null&&c!==void 0?c:null},[$,h]),[S,V]=s.useState(()=>ue(e.placeholderValue,d,h,D)),M=o||S,O=h.identifier==="gregory"&&M.era==="BC",w=s.useMemo(()=>{var c;return{granularity:d,maxGranularity:(c=e.maxGranularity)!==null&&c!==void 0?c:"year",timeZone:D,hideTimeZone:a,hourCycle:e.hourCycle,showEra:O,shouldForceLeadingZeros:e.shouldForceLeadingZeros}},[e.maxGranularity,d,e.hourCycle,e.shouldForceLeadingZeros,D,a,O]),k=s.useMemo(()=>N({},w),[w]),K=s.useMemo(()=>new Q(t,k),[t,k]),p=s.useMemo(()=>K.resolvedOptions(),[K]),b=s.useMemo(()=>K.formatToParts(new Date).filter(c=>re[c.type]).reduce((c,A)=>(c[A.type]=!0,c),{}),[K]),[C,j]=s.useState(()=>e.value||e.defaultValue?{...b}:{}),_=s.useRef(null),ne=s.useRef(h.identifier);s.useEffect(()=>{h.identifier!==ne.current&&(ne.current=h.identifier,V(c=>Object.keys(C).length>0?Z(c,h):ue(e.placeholderValue,d,h,D)))},[h,d,C,D,e.placeholderValue]),$&&Object.keys(C).length<Object.keys(b).length&&(C={...b},j(C)),$==null&&Object.keys(C).length===Object.keys(b).length&&(C={},j(C),V(ue(e.placeholderValue,d,h,D)));let F=o&&Object.keys(C).length>=Object.keys(b).length?o:S,T=c=>{if(e.isDisabled||e.isReadOnly)return;let A=Object.keys(C),I=Object.keys(b);c==null?(E(null),V(ue(e.placeholderValue,d,h,D)),j({})):A.length>=I.length||A.length===I.length-1&&b.dayPeriod&&!C.dayPeriod&&_.current!=="dayPeriod"?(c=Z(c,(y==null?void 0:y.calendar)||new ge),E(c)):V(c),_.current=null},q=s.useMemo(()=>F.toDate(g),[F,g]),v=s.useMemo(()=>K.formatToParts(q).map(c=>{let A=re[c.type];c.type==="era"&&h.getEras().length===1&&(A=!1);let I=re[c.type]&&!C[c.type],z=re[c.type]?iu(c.type,c.value,t):null;return{type:ru[c.type]||c.type,text:I?z:c.value,...ou(F,c.type,p),isPlaceholder:I,placeholder:z,isEditable:A}}),[q,C,K,p,F,h,t]);b.era&&C.year&&!C.era?(C.era=!0,j({...C})):!b.era&&C.era&&(delete C.era,j({...C}));let R=c=>{C[c]=!0,c==="year"&&b.era&&(C.era=!0),j({...C})},P=(c,A)=>{if(C[c])T(du(F,c,A,p));else{R(c);let I=Object.keys(C),z=Object.keys(b);(I.length>=z.length||I.length===z.length-1&&b.dayPeriod&&!C.dayPeriod)&&T(F)}},H=s.useMemo(()=>Bt($,r,f,m,w),[$,r,f,m,w]),ie=Le({...e,value:$,builtinValidation:H}),Y=ie.displayValidation.isInvalid,Ft=e.validationState||(Y?"invalid":null);var se;return{...ie,value:o,dateValue:q,calendar:h,setValue:T,segments:v,dateFormatter:K,validationState:Ft,isInvalid:Y,granularity:d,maxGranularity:(se=e.maxGranularity)!==null&&se!==void 0?se:"year",isDisabled:i,isReadOnly:l,isRequired:n,increment(c){P(c,1)},decrement(c){P(c,-1)},incrementPage(c){P(c,Ae[c]||1)},decrementPage(c){P(c,-(Ae[c]||1))},setSegment(c,A){R(c),T(cu(F,c,A,p))},confirmPlaceholder(){if(e.isDisabled||e.isReadOnly)return;let c=Object.keys(C),A=Object.keys(b);c.length===A.length-1&&b.dayPeriod&&!C.dayPeriod&&(C={...b},j(C),T(F.copy()))},clearSegment(c){delete C[c],_.current=c,j({...C});let A=ue(e.placeholderValue,d,h,D),I=F;if(c==="dayPeriod"&&"hour"in F&&"hour"in A){let z=F.hour>=12,xe=A.hour>=12;z&&!xe?I=F.set({hour:F.hour-12}):!z&&xe&&(I=F.set({hour:F.hour+12}))}else c in F&&(I=F.set({[c]:A[c]}));E(null),T(I)},formatValue(c){if(!o)return"";let A=N(c,w);return new Q(t,A).format(q)},getDateFormatter(c,A){let I={...w,...A},z=N({},I);return new Q(c,z)}}}function ou(e,t,u){switch(t){case"era":{let a=e.calendar.getEras();return{value:a.indexOf(e.era),minValue:0,maxValue:a.length-1}}case"year":return{value:e.year,minValue:1,maxValue:e.calendar.getYearsInEra(e)};case"month":return{value:e.month,minValue:jt(e),maxValue:e.calendar.getMonthsInYear(e)};case"day":return{value:e.day,minValue:Rt(e),maxValue:e.calendar.getDaysInMonth(e)}}if("hour"in e)switch(t){case"dayPeriod":return{value:e.hour>=12?12:0,minValue:0,maxValue:12};case"hour":if(u.hour12){let a=e.hour>=12;return{value:e.hour,minValue:a?12:0,maxValue:a?23:11}}return{value:e.hour,minValue:0,maxValue:23};case"minute":return{value:e.minute,minValue:0,maxValue:59};case"second":return{value:e.second,minValue:0,maxValue:59}}return{}}function du(e,t,u,a){switch(t){case"era":case"year":case"month":case"day":return e.cycle(t,u,{round:t==="year"})}if("hour"in e)switch(t){case"dayPeriod":{let i=e.hour,l=i>=12;return e.set({hour:l?i-12:i+12})}case"hour":case"minute":case"second":return e.cycle(t,u,{round:t!=="hour",hourCycle:a.hour12?12:24})}throw new Error("Unknown segment: "+t)}function cu(e,t,u,a){switch(t){case"day":case"month":case"year":case"era":return e.set({[t]:u})}if("hour"in e&&typeof u=="number")switch(t){case"dayPeriod":{let i=e.hour,l=i>=12;return u>=12===l?e:e.set({hour:l?i-12:i+12})}case"hour":if(a.hour12){let l=e.hour>=12;!l&&u===12&&(u=0),l&&u<12&&(u+=12)}case"minute":case"second":return e.set({[t]:u})}throw new Error("Unknown segment: "+t)}function Cu(e){let{placeholderValue:t=new je,minValue:u,maxValue:a,granularity:i,validate:l}=e;var n;let[r,f]=W(e.value,(n=e.defaultValue)!==null&&n!==void 0?n:null,e.onChange),m=r||t,y=m&&"day"in m?m:void 0,d=e.defaultValue&&"timeZone"in e.defaultValue?e.defaultValue.timeZone:void 0,D=s.useMemo(()=>{let o=m&&"timeZone"in m?m.timeZone:void 0;return(o||d)&&t?Pt(ae(t),o||d):ae(t)},[t,m,d]),g=s.useMemo(()=>ae(u,y),[u,y]),B=s.useMemo(()=>ae(a,y),[a,y]),h=s.useMemo(()=>r&&"day"in r?De(r):r,[r]),x=s.useMemo(()=>r==null?null:ae(r),[r]);return{...su({...e,value:x,defaultValue:void 0,minValue:g,maxValue:B,onChange:o=>{f(y||d?o:o&&De(o))},granularity:i||"minute",maxGranularity:"hour",placeholderValue:D??void 0,createCalendar:()=>new ge,validate:s.useCallback(()=>l==null?void 0:l(r),[l,r])}),timeValue:h}}function ae(e,t=Re(Pe())){return e?"day"in e?e:be(t,e):null}export{Yt as $,gu as a,W as b,Ge as c,bu as d,hu as e,Xt as f,$u as g,Le as h,xu as i,su as j,Cu as k,Du as l,yu as m,vu as n,Be as o};
