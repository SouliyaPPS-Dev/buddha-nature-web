import{r as h,j as t}from"./react-Bpj1It56.js";import{u,g as f,S as g}from"./main-hZYZiN6R.js";import{L as b}from"./@tanstack-BQ3PdJvV.js";import{f as j,g as w,s as l,v,i as N,w as y,x as a}from"./@heroui-CIH5ufY4.js";import"./@babel-houl6Xsg.js";import"./core-js-pure-evcE_T-D.js";import"./react-dom-By78mrQC.js";import"./scheduler-8y5VlOXR.js";import"./idb-Bn1DMRyg.js";import"./react-helmet-async-BL1df5qm.js";import"./react-fast-compare-CoPa2Gs5.js";import"./invariant-BaQWlx5Y.js";import"./shallowequal-QcPrNyiR.js";import"./react-transition-group-CwkOSmso.js";import"./dom-helpers-k64VTSqm.js";import"./react-toastify-BeNbc-FJ.js";import"./clsx-B-dksMZM.js";import"./antd-Cx7N9Psy.js";import"./rc-util-BDnH4PQc.js";import"./@ant-design-AtsPa5Ww.js";import"./classnames-C0_Vbuxc.js";import"./@ctrl-DOFZgDuz.js";import"./rc-motion-BrDRrNAo.js";import"./@rc-component-DfZBjsxQ.js";import"./dayjs-DYhqyFLG.js";import"./rc-field-form-C5nkFfg4.js";import"./rc-image-CJVIC9RT.js";import"./rc-dialog-Oy9-Ncdj.js";import"./rc-pagination-BRLbcoVp.js";import"./rc-picker-oSZthl20.js";import"./smoothscroll-polyfill-DfrSojlF.js";import"./@react-aria-xE5HBTkH.js";import"./@react-stately-BNzC-r0j.js";import"./@internationalized-C6LEMtSM.js";import"./@swc-h1AXYk7E.js";import"./react-icons-C88MKWVs.js";import"./axios-DXsv3KKR.js";import"./lodash.debounce-DOTX7tph.js";import"./dompurify-CocPUCx9.js";import"./react-highlight-words-yh67jzXc.js";import"./react-html-parser-Bzk_WztA.js";import"./htmlparser2-QVUjCeQB.js";import"./entities-05SZEo_X.js";import"./inherits-BlmhoU4v.js";import"./events-CXH2uRM3.js";import"./domutils-nv7eZwOX.js";import"./dom-serializer-C1mRqh9f.js";import"./domelementtype-C_FFwB5S.js";import"./string_decoder-DSI1wpto.js";import"./safe-buffer-CMTcrbJ_.js";import"./buffer-DT9VzwNJ.js";import"./base64-js-DRz5BQNA.js";import"./ieee754-vIlwft-x.js";import"./react-scroll-to-bottom-CTjbJ2mK.js";import"./core-js-Dho04YfF.js";import"./@emotion-CBpc3bmA.js";import"./stylis-YPZU7XtI.js";import"./math-random-BDtfBM1x.js";import"./react-big-calendar-BzSGFtnG.js";import"./uncontrollable-Dt8teSny.js";import"./react-lifecycles-compat-AfN2QaV3.js";import"./prop-types-D1h4IAre.js";import"./date-arithmetic-DrY26MJF.js";import"./lodash-Cj-1ifDK.js";import"./react-overlays-0MuLoRkH.js";import"./@restart-JGbTMMQN.js";import"./@popperjs-DMGSESOy.js";import"./warning-Dwrh-cZ9.js";import"./memoize-one-BdPwpGay.js";import"./swiper-DTw7uyIM.js";import"./tiny-invariant-CopsF_GD.js";import"./tiny-warning-Dirz_SfZ.js";import"./use-sync-external-store-Ct5KFJC2.js";import"./framer-motion-BfgC9wdC.js";import"./motion-utils-C_SlKRoS.js";import"./motion-dom-DWDx2Ux7.js";import"./scroll-into-view-if-needed-BHvttMQE.js";import"./compute-scroll-into-view-DWa9QgjM.js";import"./tailwind-variants-wBLq28id.js";import"./tailwind-merge-CYizakiM.js";function C({id:i,item:r,isLoading:s}){return h.useEffect(()=>{const o=document.createElement("img");o.src=`${r.imageURL}`},[i]),t.jsxs(b,{to:`/book/view/${i}`,className:"z-10 flex flex-col justify-between items-center cursor-pointer",children:[t.jsx(j,{isHoverable:!0,isFooterBlurred:!0,className:"w-[115px] sm:w-[130px] md:w-[140px] lg:w-[185px] h-[205px] sm:h-[205px] md:h-[255px] lg:h-[305px] flex-shrink-0 mx-2 shadow-xl hover:shadow-3xl transition-transform duration-300 transform hover:-translate-y-2",style:{marginBottom:"-1.2rem",boxShadow:`
            0 10px 15px -3px rgba(0, 0, 0, 0.2), 
            0 4px 6px -2px rgba(0, 0, 0, 0.1),
            inset 0 -3px 6px rgba(0, 0, 0, 0.2)`,backgroundColor:"transparent",borderRadius:"0"},children:t.jsxs(w,{className:"overflow-hidden p-0 relative flex flex-col",style:{borderRadius:"0"},children:[t.jsx("div",{className:"hidden sm:block flex-grow",style:{marginTop:"0.5rem"},children:t.jsx("p",{className:"text-white text-center text-sm",children:r.ຊື່})}),t.jsx("div",{className:"block sm:hidden",style:{marginTop:"0.5rem"},children:t.jsx("p",{className:"text-white text-center text-sm",children:r.ຊື່})}),s&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:t.jsx(l,{size:"sm"})}),t.jsx(v,{removeWrapper:!0,loading:"lazy",shadow:"lg",radius:"none",alt:r.ຊື່,src:r.imageURL,style:{marginTop:"0.4rem",borderRadius:"0"},className:`z-0 object-fill transition-opacity duration-300 ${s?"opacity-0":"opacity-100"} 
            h-[165px] sm:h-[200px] md:h-[220px] lg:h-[270px]`})]})}),t.jsx("div",{className:"w-[90%] h-4 mt-[-1.5rem] bg-gray-900 opacity-25 blur-md"})]})}const Xt=function(){const{scrollContainerRef:r}=u(),{data:s,isLoading:o,selectedCategory:m,uniqueCategories:p,setSelectedCategory:n,searchTerm:c,setSearchTerm:d}=f();return t.jsx(t.Fragment,{children:t.jsxs("section",{ref:r,className:"flex flex-col items-center justify-center mb-5",children:[t.jsx("div",{className:"top-0 z-20 px-4 py-2 mt-12 w-full max-w-lg mx-auto absolute",style:{marginLeft:"-4px"},children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-1 items-center",children:[t.jsx("div",{className:"w-full",children:t.jsx(N,{"aria-label":"Search",labelPlacement:"outside",type:"search",placeholder:"ຄົ້ນຫາ...",className:"bg-default-100 rounded-lg w-full font-phetsarath",value:c,startContent:t.jsx(g,{className:"text-base text-default-400 pointer-events-none flex-shrink-0"}),onChange:e=>d(e.target.value)})}),t.jsx("div",{className:"w-full",children:t.jsxs(y,{"aria-label":"Select a category",selectedKeys:[m||""],onSelectionChange:e=>{const x=Array.from(e).pop();n(x)},classNames:{base:"bg-default-100 text-lg rounded-lg w-full font-phetsarath",trigger:"font-phetsarath",listbox:"font-phetsarath"},placeholder:"ທຸກໝວດ",children:[t.jsx(a,{className:"font-phetsarath text-lg",children:"ທຸກໝວດ"},""),p.map(e=>t.jsx(a,{value:e,className:"font-phetsarath text-lg",children:e},e))]})})]})}),t.jsx("div",{className:"h-14"}),o?t.jsx("div",{className:"w-full flex justify-center mt-8",children:t.jsx(l,{size:"lg"})}):t.jsx("div",{className:"grid gap-4 grid-cols-3 sm:grid-cols-5 md:grid-cols-5 lg:grid-cols-5 mb-20",children:s==null?void 0:s.map(e=>t.jsxs("div",{ref:r,className:"flex flex-col items-center",style:{marginBottom:"-1.3rem"},children:[t.jsx(C,{id:e.ID,item:e,isLoading:o}),t.jsxs("div",{className:"relative w-full mt-4 h-6 sm:h-5 md:h-6 lg:h-8 z-1",style:{width:"115%",transition:"width 0.3s ease-in-out"},children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-1 sm:h-3 md:h-4 bg-[#B96A44] shadow-lg"}),t.jsx("div",{className:"absolute top-1 left-0 w-full h-2 sm:h-1.5 bg-[#E0895C] shadow mb-0",style:{marginBottom:"-5.5em"}}),t.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-[#A65D3B] shadow-inner mb-4"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 mb:h-1 sm:h-2 lg:h-2 bg-[#B96A44] shadow-inner mb-3"}),t.jsx("div",{className:"absolute top-0 left-0 w-full h-4 bg-[#E0895C] opacity-50"}),t.jsx("div",{className:"absolute -top-2 left-2 w-[96%] h-4 bg-black opacity-10 blur-md"})]})]},e.ID))})]})})};export{Xt as component};
