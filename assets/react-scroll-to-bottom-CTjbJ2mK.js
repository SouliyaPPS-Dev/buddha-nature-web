import{a as y,r as i}from"./react-Bpj1It56.js";import{m as rt,w as B,x as Ye,y as ee,z as f,A as b,B as F,C as Ct,D as Et,E as wt,F as Nt,G as xt,H as Ke,I as Rt,J as Ht,K as ot,L as Ot,M as Bt,N as Ve,O as _t}from"./@babel-houl6Xsg.js";import"./core-js-Dho04YfF.js";import{c as Pt}from"./@emotion-CBpc3bmA.js";import{r as kt}from"./math-random-BDtfBM1x.js";function It(t,e){try{var r=global,n=r.document;if(typeof n<"u"&&n.createElement&&n.head&&n.head.appendChild){var l=n.querySelector('html meta[name="'.concat(encodeURI(t),'"]'))||n.createElement("meta");l.setAttribute("name",t),l.setAttribute("content",e),n.head.appendChild(l)}}catch{}}function Lt(){It("react-scroll-to-bottom:version","4.2.0")}var nt={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var n=[],l=0;l<arguments.length;l++){var o=arguments[l];if(o){var s=typeof o;if(s==="string"||s==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var a=r.apply(null,o);a&&n.push(a)}}else if(s==="object")if(o.toString===Object.prototype.toString)for(var p in o)e.call(o,p)&&o[p]&&n.push(p);else n.push(o.toString())}}return n.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(nt);var Mt=nt.exports;const me=rt(Mt);var at={exports:{}},Ft="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$t=Ft,At=$t;function lt(){}function ct(){}ct.resetWarningCache=lt;var Dt=function(){function t(n,l,o,s,a,p){if(p!==At){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}t.isRequired=t;function e(){return t}var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ct,resetWarningCache:lt};return r.PropTypes=r,r};at.exports=Dt();var jt=at.exports;const m=rt(jt);var de=y.createContext({scrollTo:function(){return 0},scrollToBottom:function(){return 0},scrollToEnd:function(){return 0},scrollToStart:function(){return 0},scrollToTop:function(){return 0}});de.displayName="ScrollToBottomFunctionContext";function qt(){return i.useContext(de)}function Wt(){var t=qt(),e=t.scrollToEnd;return e}var pe=y.createContext({atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom"});pe.displayName="ScrollToBottomState1Context";var he=y.createContext({animating:!1,animatingToEnd:!1,sticky:!0});he.displayName="ScrollToBottomState2Context";var ge=y.createContext({animating:!1,animatingToEnd:!1,atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom",sticky:!0});ge.displayName="ScrollToBottomStateContext";var ze=[ge,pe,he];function st(t){return i.useContext(ze[t]||ze[0])}function Ut(){var t=st(2),e=t.sticky;return[e]}var te=y.createContext({offsetHeight:0,scrollHeight:0,setTarget:function(){return 0},styleToClassName:function(){return""}});te.displayName="ScrollToBottomInternalContext";function Yt(){return i.useContext(te)}function Te(){var t=Yt(),e=t.styleToClassName;return e}var Kt={backgroundColor:"rgba(0, 0, 0, .2)",borderRadius:10,borderWidth:0,bottom:5,cursor:"pointer",height:20,outline:0,position:"absolute",right:20,width:20,"&:hover":{backgroundColor:"rgba(0, 0, 0, .4)"},"&:active":{backgroundColor:"rgba(0, 0, 0, .6)"}},be=function(e){var r=e.children,n=e.className,l=Ut(),o=B(l,1),s=o[0],a=Te()(Kt),p=Wt();return!s&&y.createElement("button",{className:me(a,(n||"")+""),onClick:p,type:"button"},r)};be.defaultProps={children:void 0,className:""};be.propTypes={children:m.any,className:m.string};function Vt(){return kt().toString(26).substr(2,5).replace(/[0-9]/g,function(t){return String.fromCharCode(t.charCodeAt(0)+65)})}function h(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"white",r="background-color: ".concat(t,"; border-radius: 4px; padding: 2px 4px;");return e&&(r+=" color: ".concat(e,";")),[r,""]}function Ge(t,e){for(var r,n,l=arguments.length,o=new Array(l>2?l-2:0),s=2;s<l;s++)o[s-2]=arguments[s];return b(r=[b(n="%c".concat(t,"%c ")).call(n,e)]).call(r,f(h("green","white")),o)}function zt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.force,n=r===void 0?!1:r;return n?function(){for(var l=arguments.length,o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];if(o.length){var a=o,p=B(a,1),S=p[0];typeof S=="function"&&(o=S());var u=Ye(o[0])?o:[o],C=u.length===1;ee(u).call(u,function(w,q){if(C){var x,E;(x=console).log.apply(x,f(Ge.apply(void 0,b(E=[t]).call(E,f(w)))))}else if(q){var $;($=console).log.apply($,f(Ye(w)?w:[w]))}else{var _,G;(_=console).groupCollapsed.apply(_,f(Ge.apply(void 0,b(G=[t]).call(G,f(w)))))}}),C||console.groupEnd()}}:function(){return 0}}function Gt(t,e){if(!e)return t;var r=0,n=null;return function(){for(var l=arguments.length,o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];var a=F();a-r>e?(t.apply(void 0,o),r=a):(clearTimeout(n),n=Ct(function(){t.apply(void 0,o),r=F()},Math.max(0,e-a+r)))}}var it=function(e){var r=e.debounce,n=e.name,l=e.onEvent,o=e.target,s=i.useRef();s.current=l;var a=i.useMemo(function(){return Gt(function(S){var u=s.current;u&&u(S)},r)},[r,s]),p=i.useCallback(function(S){S.timeStampLow=F(),a(S)},[a]);return i.useLayoutEffect(function(){return o.addEventListener(n,p,{passive:!0}),p({target:o,type:n}),function(){return o.removeEventListener(n,p)}},[n,p,o]),!1};it.defaultProps={debounce:200};function Jt(t,e){var r=Et(e-t),n=Math.sqrt(Math.abs(e-t)),l=t+n*r;return r>0?Math.min(e,l):Math.max(e,l)}function Qt(t,e,r,n){for(var l=t,o=0;o<n;o++)l=r(l,e);return l}var ut=function(e){var r=e.name,n=e.onEnd,l=e.target,o=e.value,s=i.useRef(),a=i.useCallback(function(S,u,C,w){var q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:F();(C==="100%"||typeof C=="number")&&(cancelAnimationFrame(s.current),s.current=requestAnimationFrame(function(){if(l){var x=C==="100%"?l.scrollHeight-l.offsetHeight:C,E=Qt(u,x,Jt,(F()-q)/5);Math.abs(x-E)<1.5&&(E=x),l[S]=E,x===E?n&&n(!0):a(S,u,C,w+1,q)}}))},[s,n,l]),p=i.useCallback(function(){cancelAnimationFrame(s.current),n&&n(!1)},[n]);return i.useLayoutEffect(function(){return a(r,l[r],o,1),l?(l.addEventListener("pointerdown",p,{passive:!0}),l.addEventListener("wheel",p,{passive:!0}),function(){l.removeEventListener("pointerdown",p),l.removeEventListener("wheel",p),cancelAnimationFrame(s.current)}):function(){return cancelAnimationFrame(s.current)}},[a,s,p,r,l,o]),!1};ut.propTypes={name:m.string.isRequired,onEnd:m.func,target:m.any.isRequired,value:m.oneOfType([m.number,m.oneOf(["100%"])]).isRequired};function ve(t){var e=i.useState(t),r=B(e,2),n=r[0],l=r[1],o=i.useRef(),s=i.useCallback(function(a){typeof a=="function"?s(function(p){return a=a(p),o.current=a,a}):(o.current=a,s(a))},[o]);return o.current=n,[n,l,o]}function Je(t,e){var r=Bt(t);if(Ve){var n=Ve(t);e&&(n=_t(n).call(n,function(l){return ot(t,l).enumerable})),r.push.apply(r,n)}return r}function Qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){var n;ee(n=Je(Object(r),!0)).call(n,function(o){xt(t,o,r[o])})}else if(Ke)Rt(t,Ke(r));else{var l;ee(l=Je(Object(r))).call(l,function(o){Ht(t,o,ot(r,o))})}}return t}var Xt=function(){return 1/0},Xe=17,Zt="bottom",H="top",Ze=1,er=34,et={};function tr(t,e){return t(),Ot(t,e)}function tt(t){var e=t.mode,r=t.target,n=r.offsetHeight,l=r.scrollHeight,o=r.scrollTop,s=l-o-n<Ze,a=o<Ze,p=e===H?a:s,S=e!==H?a:s;return{atBottom:s,atEnd:p,atStart:S,atTop:a}}function z(t,e){return t===(e===H?0:"100%")}var Se=function(e){var r=e.checkInterval,n=e.children,l=e.debounce,o=e.debug,s=e.initialScrollBehavior,a=e.mode,p=e.nonce,S=e.scroller,u=i.useMemo(function(){return zt("<ScrollToBottom>",{force:o})},[o]);a=a===H?H:Zt;var C=i.useRef(0),w=i.useRef(s),q=ve(a===H?0:"100%"),x=B(q,3),E=x[0],$=x[1],_=x[2],G=ve(null),re=B(G,3),N=re[0],Ee=re[1],O=re[2],oe=i.useRef(0),ne=i.useRef(0),J=i.useRef(0),vt=i.useState(!0),we=B(vt,2),Ne=we[0],xe=we[1],mt=i.useState(!0),Re=B(mt,2),He=Re[0],Oe=Re[1],dt=i.useState(!0),Be=B(dt,2),_e=Be[0],Pe=Be[1],pt=i.useState(!1),ke=B(pt,2),Ie=ke[0],Le=ke[1],ht=ve(!0),ae=B(ht,3),le=ae[0],k=ae[1],I=ae[2],V=i.useRef([]),Me=i.useCallback(function(c){var d=O.current;return V.current.push(c),d&&c({scrollTop:d.scrollTop}),function(){var v=V.current,g=wt(v).call(v,c);~g&&Nt(v).call(v,g,1)}},[V,O]),ce=i.useCallback(function(){var c=_.current;u(function(){var d;return b(d=["%cSpineTo%c: %conEnd%c is fired."]).call(d,f(h("magenta")),f(h("orange")),[{animateTo:c}])}),C.current=F(),z(c,a)||k(!1),$(null)},[_,u,C,a,$,k]),L=i.useCallback(function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=d.behavior,g=O.current;if(typeof c!="number"&&c!=="100%")return console.warn('react-scroll-to-bottom: Arguments passed to scrollTo() must be either number or "100%".');u(function(){var T;return[b(T=["%cscrollTo%c: Will scroll to %c".concat(typeof c=="number"?c+"px":c.replace(/%/g,"%%"),"%c")]).call(T,f(h("lime","")),f(h("purple"))),{behavior:v,nextAnimateTo:c,target:g}]}),v==="auto"?(ce(),g&&(g.scrollTop=c==="100%"?g.scrollHeight-g.offsetHeight:c)):(v!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollTo". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),$(c)),z(c,a)&&(u(function(){var T;return[b(T=["%cscrollTo%c: Scrolling to end, will set sticky to %ctrue%c."]).call(T,f(h("lime","")),f(h("purple"))),[{mode:a,nextAnimateTo:c}]]}),k(!0))},[u,ce,a,$,k,O]),W=i.useCallback(function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.behavior;u(function(){var v;return b(v=["%cscrollToBottom%c: Called"]).call(v,f(h("yellow","")))}),d!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToBottom". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),L("100%",{behavior:d||"smooth"})},[u,L]),U=i.useCallback(function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.behavior;u(function(){var v;return b(v=["%cscrollToTop%c: Called"]).call(v,f(h("yellow","")))}),d!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToTop". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),L(0,{behavior:d||"smooth"})},[u,L]),Fe=i.useCallback(function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.behavior;u(function(){var g;return b(g=["%cscrollToEnd%c: Called"]).call(g,f(h("yellow","")))}),d!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToEnd". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var v={behavior:d||"smooth"};a===H?U(v):W(v)},[u,a,W,U]),$e=i.useCallback(function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.behavior;u(function(){var g;return b(g=["%cscrollToStart%c: Called"]).call(g,f(h("yellow","")))}),d!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToStart". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var v={behavior:d||"smooth"};a===H?W(v):U(v)},[u,a,W,U]),Q=i.useCallback(function(){var c=O.current;if(c){if(w.current==="auto"){u(function(){var D;return b(D=["%ctarget changed%c: Initial scroll"]).call(D,f(h("blue")))}),c.scrollTop=a===H?0:c.scrollHeight-c.offsetHeight,w.current=!1;return}var d=oe.current,v=c.offsetHeight,g=c.scrollHeight,T=c.scrollTop,P=a===H?0:Math.max(0,g-v-T),A=Math.max(0,d-T),X=S({maxValue:P,minValue:A,offsetHeight:v,scrollHeight:g,scrollTop:T}),M=Math.max(0,Math.min(P,X)),R;a===H||M!==P?R=T+M:R="100%",u(function(){var D,Y,K;return[b(D=[b(Y=b(K="%cscrollToSticky%c: Will animate from %c".concat(d,"px%c to %c")).call(K,typeof R=="number"?R+"px":R.replace(/%/g,"%%"),"%c (%c")).call(Y,(R==="100%"?P:R)+d,"px%c)")]).call(D,f(h("orange")),f(h("purple")),f(h("purple")),f(h("purple"))),{animateFrom:d,maxValue:P,minValue:A,nextAnimateTo:R,nextValue:M,offsetHeight:v,rawNextValue:X,scrollHeight:g,scrollTop:T}]}),L(R,{behavior:"smooth"})}},[oe,u,a,S,L,O]),gt=i.useCallback(function(c){var d,v=c.timeStampLow,g=_.current,T=O.current,P=g!==null;if(!(v<=C.current||!T)){var A=tt({mode:a,target:T}),X=A.atBottom,M=A.atEnd,R=A.atStart,D=A.atTop;xe(X),Oe(M),Le(R),Pe(D);var Y=T.offsetHeight,K=T.scrollHeight,De=ne.current,je=J.current,ue=Y!==De,fe=K!==je;if(ue&&(ne.current=Y),fe&&(J.current=K),!ue&&!fe){var Z=P&&z(g,a)||M;I.current!==Z&&(u(function(){var j,qe,We,Ue;return[b(j=["%conScroll%c: %csetSticky%c(%c".concat(Z,"%c)")]).call(j,f(h("red")),f(h("red")),f(h("purple"))),b(qe=[b(We=b(Ue="(animating = %c".concat(P,"%c && isEnd = %c")).call(Ue,z(g,a),"%c) || atEnd = %c")).call(We,M,"%c")]).call(qe,f(h("purple")),f(h("purple")),f(h("purple")),[{animating:P,animateTo:g,atEnd:M,mode:a,offsetHeight:T.offsetHeight,scrollHeight:T.scrollHeight,sticky:I.current,nextSticky:Z}])]}),k(Z))}else I.current&&(u(function(){var j;return[b(j=["%conScroll%c: Size changed while sticky, calling %cscrollToSticky()%c"]).call(j,f(h("red")),f(h("orange")),[{offsetHeightChanged:ue,scrollHeightChanged:fe}]),{nextOffsetHeight:Y,prevOffsetHeight:De,nextScrollHeight:K,prevScrollHeight:je}]}),Q());var yt=T.scrollTop;ee(d=V.current).call(d,function(j){return j({scrollTop:yt})})}},[_,u,C,a,ne,J,V,Q,xe,Oe,Le,Pe,k,I,O]);i.useEffect(function(){if(N){var c=!1,d=tr(function(){var v=O.current,g=_.current!==null;I.current?tt({mode:a,target:v}).atEnd?c=!1:c?F()-c>er&&(g||(oe.current=v.scrollTop,u(function(){var T;return b(T=["%cInterval check%c: Should sticky but not at end, calling %cscrollToSticky()%c to scroll"]).call(T,f(h("navy")),f(h("orange")))}),Q()),c=!1):c=F():v.scrollHeight<=v.offsetHeight&&!I.current&&(u(function(){var T;return[b(T=["%cInterval check%c: Container is emptied, setting sticky back to %ctrue%c"]).call(T,f(h("navy")),f(h("purple"))),[{offsetHeight:v.offsetHeight,scrollHeight:v.scrollHeight,sticky:I.current}]]}),k(!0))},Math.max(Xe,r)||Xe);return function(){return clearInterval(d)}}},[_,r,u,a,Q,k,I,N,O]);var Ae=i.useMemo(function(){var c=et[p]||(et[p]=Pt({key:"react-scroll-to-bottom--css-"+Vt(),nonce:p}));return function(d){return c.css(d)+""}},[p]),Tt=i.useMemo(function(){return{observeScrollPosition:Me,setTarget:Ee,styleToClassName:Ae}},[Me,Ee,Ae]),se=i.useMemo(function(){return{atBottom:Ne,atEnd:He,atStart:Ie,atTop:_e,mode:a}},[Ne,He,Ie,_e,a]),ie=i.useMemo(function(){var c=E!==null;return{animating:c,animatingToEnd:c&&z(E,a),sticky:le}},[E,a,le]),bt=i.useMemo(function(){return Qe(Qe({},se),ie)},[se,ie]),St=i.useMemo(function(){return{scrollTo:L,scrollToBottom:W,scrollToEnd:Fe,scrollToStart:$e,scrollToTop:U}},[L,W,Fe,$e,U]);return i.useEffect(function(){if(N){var c=function(){J.current=N.scrollHeight};return N.addEventListener("focus",c,{capture:!0,passive:!0}),function(){return N.removeEventListener("focus",c)}}},[N]),u(function(){var c;return[b(c=["%cRender%c: Render"]).call(c,f(h("cyan",""))),{animateTo:E,animating:E!==null,sticky:le,target:N}]}),y.createElement(te.Provider,{value:Tt},y.createElement(de.Provider,{value:St},y.createElement(ge.Provider,{value:bt},y.createElement(pe.Provider,{value:se},y.createElement(he.Provider,{value:ie},n,N&&y.createElement(it,{debounce:l,name:"scroll",onEvent:gt,target:N}),N&&E!==null&&y.createElement(ut,{name:"scrollTop",onEnd:ce,target:N,value:E}))))))};Se.defaultProps={checkInterval:100,children:void 0,debounce:17,debug:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:Xt};Se.propTypes={checkInterval:m.number,children:m.any,debounce:m.number,debug:m.bool,initialScrollBehavior:m.oneOf(["auto","smooth"]),mode:m.oneOf(["bottom","top"]),nonce:m.string,scroller:m.func};var rr={height:"100%",overflowY:"auto",width:"100%"},ye=function(e){var r=e.children,n=e.className,l=i.useContext(te),o=l.setTarget,s=Te()(rr);return y.createElement("div",{className:me(s,(n||"")+""),ref:o},r)};ye.defaultProps={children:void 0,className:void 0};ye.propTypes={children:m.any,className:m.string};var or={position:"relative"},Ce=function(e){var r=e.children,n=e.className,l=e.followButtonClassName,o=e.scrollViewClassName,s=Te()(or);return y.createElement("div",{className:me(s,(n||"")+"")},y.createElement(ye,{className:(o||"")+""},r),y.createElement(be,{className:(l||"")+""}))};Ce.defaultProps={children:void 0,className:void 0,followButtonClassName:void 0,scrollViewClassName:void 0};Ce.propTypes={children:m.any,className:m.string,followButtonClassName:m.string,scrollViewClassName:m.string};var ft=function(e){var r=e.checkInterval,n=e.children,l=e.className,o=e.debounce,s=e.debug,a=e.followButtonClassName,p=e.initialScrollBehavior,S=e.mode,u=e.nonce,C=e.scroller,w=e.scrollViewClassName;return y.createElement(Se,{checkInterval:r,debounce:o,debug:s,initialScrollBehavior:p,mode:S,nonce:u,scroller:C},y.createElement(Ce,{className:l,followButtonClassName:a,scrollViewClassName:w},n))};ft.defaultProps={checkInterval:void 0,children:void 0,className:void 0,debounce:void 0,debug:void 0,followButtonClassName:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:void 0,scrollViewClassName:void 0};ft.propTypes={checkInterval:m.number,children:m.any,className:m.string,debounce:m.number,debug:m.bool,followButtonClassName:m.string,initialScrollBehavior:m.oneOf(["auto","smooth"]),mode:m.oneOf(["bottom","top"]),nonce:m.string,scroller:m.func,scrollViewClassName:m.string};function ir(){var t=st(1),e=t.atTop;return[e]}Lt();export{ft as B,ir as u};
