import{r as _}from"./dom-serializer-C1mRqh9f.js";var O={exports:{}},T,I;function E(){return I||(I=1,T={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(i){return i.type==="tag"||i.type==="script"||i.type==="style"}}),T}var x,N;function R(){if(N)return x;N=1;var i=E(),e=_(),n=i.isTag;x={getInnerHTML:a,getOuterHTML:e,getText:s};function a(r,t){return r.children?r.children.map(function(u){return e(u,t)}).join(""):""}function s(r){return Array.isArray(r)?r.map(s).join(""):n(r)?r.name==="br"?`
`:s(r.children):r.type===i.CDATA?s(r.children):r.type===i.Text?r.data:""}return x}var v={},C;function w(){if(C)return v;C=1;var i=v.getChildren=function(n){return n.children},e=v.getParent=function(n){return n.parent};return v.getSiblings=function(n){var a=e(n);return a?i(a):[n]},v.getAttributeValue=function(n,a){return n.attribs&&n.attribs[a]},v.hasAttrib=function(n,a){return!!n.attribs&&hasOwnProperty.call(n.attribs,a)},v.getName=function(n){return n.name},v}var d={},D;function G(){return D||(D=1,d.removeElement=function(i){if(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.parent){var e=i.parent.children;e.splice(e.lastIndexOf(i),1)}},d.replaceElement=function(i,e){var n=e.prev=i.prev;n&&(n.next=e);var a=e.next=i.next;a&&(a.prev=e);var s=e.parent=i.parent;if(s){var r=s.children;r[r.lastIndexOf(i)]=e}},d.appendChild=function(i,e){if(e.parent=i,i.children.push(e)!==1){var n=i.children[i.children.length-2];n.next=e,e.prev=n,e.next=null}},d.append=function(i,e){var n=i.parent,a=i.next;if(e.next=a,e.prev=i,i.next=e,e.parent=n,a){if(a.prev=e,n){var s=n.children;s.splice(s.lastIndexOf(a),0,e)}}else n&&n.children.push(e)},d.prepend=function(i,e){var n=i.parent;if(n){var a=n.children;a.splice(a.lastIndexOf(i),0,e)}i.prev&&(i.prev.next=e),e.parent=n,e.prev=i.prev,e.next=i,i.prev=e}),d}var b,q;function F(){if(q)return b;q=1;var i=E().isTag;b={filter:e,find:n,findOneChild:a,findOne:s,existsOne:r,findAll:t};function e(u,f,o,c){return Array.isArray(f)||(f=[f]),(typeof c!="number"||!isFinite(c))&&(c=1/0),n(u,f,o!==!1,c)}function n(u,f,o,c){for(var p=[],g,l=0,P=f.length;l<P&&!(u(f[l])&&(p.push(f[l]),--c<=0)||(g=f[l].children,o&&g&&g.length>0&&(g=n(u,g,o,c),p=p.concat(g),c-=g.length,c<=0)));l++);return p}function a(u,f){for(var o=0,c=f.length;o<c;o++)if(u(f[o]))return f[o];return null}function s(u,f){for(var o=null,c=0,p=f.length;c<p&&!o;c++)if(i(f[c]))u(f[c])?o=f[c]:f[c].children.length>0&&(o=s(u,f[c].children));else continue;return o}function r(u,f){for(var o=0,c=f.length;o<c;o++)if(i(f[o])&&(u(f[o])||f[o].children.length>0&&r(u,f[o].children)))return!0;return!1}function t(u,f){for(var o=[],c=f.slice();c.length;){var p=c.shift();i(p)&&(p.children&&p.children.length>0&&c.unshift.apply(c,p.children),u(p)&&o.push(p))}return o}return b}var h={},A;function H(){if(A)return h;A=1;var i=E(),e=h.isTag=i.isTag;h.testElement=function(r,t){for(var u in r)if(r.hasOwnProperty(u)){if(u==="tag_name"){if(!e(t)||!r.tag_name(t.name))return!1}else if(u==="tag_type"){if(!r.tag_type(t.type))return!1}else if(u==="tag_contains"){if(e(t)||!r.tag_contains(t.data))return!1}else if(!t.attribs||!r[u](t.attribs[u]))return!1}return!0};var n={tag_name:function(r){return typeof r=="function"?function(t){return e(t)&&r(t.name)}:r==="*"?e:function(t){return e(t)&&t.name===r}},tag_type:function(r){return typeof r=="function"?function(t){return r(t.type)}:function(t){return t.type===r}},tag_contains:function(r){return typeof r=="function"?function(t){return!e(t)&&r(t.data)}:function(t){return!e(t)&&t.data===r}}};function a(r,t){return typeof t=="function"?function(u){return u.attribs&&t(u.attribs[r])}:function(u){return u.attribs&&u.attribs[r]===t}}function s(r,t){return function(u){return r(u)||t(u)}}return h.getElements=function(r,t,u,f){var o=Object.keys(r).map(function(c){var p=r[c];return c in n?n[c](p):a(c,p)});return o.length===0?[]:this.filter(o.reduce(s),t,u,f)},h.getElementById=function(r,t,u){return Array.isArray(t)||(t=[t]),this.findOne(a("id",r),t,u!==!1)},h.getElementsByTagName=function(r,t,u,f){return this.filter(n.tag_name(r),t,u,f)},h.getElementsByTagType=function(r,t,u,f){return this.filter(n.tag_type(r),t,u,f)},h}var y={},S;function M(){if(S)return y;S=1,y.removeSubsets=function(n){for(var a=n.length,s,r,t;--a>-1;){for(s=r=n[a],n[a]=null,t=!0;r;){if(n.indexOf(r)>-1){t=!1,n.splice(a,1);break}r=r.parent}t&&(n[a]=s)}return n};var i={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},e=y.compareDocumentPosition=function(n,a){var s=[],r=[],t,u,f,o,c,p;if(n===a)return 0;for(t=n;t;)s.unshift(t),t=t.parent;for(t=a;t;)r.unshift(t),t=t.parent;for(p=0;s[p]===r[p];)p++;return p===0?i.DISCONNECTED:(u=s[p-1],f=u.children,o=s[p],c=r[p],f.indexOf(o)>f.indexOf(c)?u===a?i.FOLLOWING|i.CONTAINED_BY:i.FOLLOWING:u===n?i.PRECEDING|i.CONTAINS:i.PRECEDING)};return y.uniqueSort=function(n){var a=n.length,s,r;for(n=n.slice();--a>-1;)s=n[a],r=n.indexOf(s),r>-1&&r<a&&n.splice(a,1);return n.sort(function(t,u){var f=e(t,u);return f&i.PRECEDING?-1:f&i.FOLLOWING?1:0}),n},y}var L;function W(){return L||(L=1,function(i){var e=i.exports;[R(),w(),G(),F(),H(),M()].forEach(function(n){Object.keys(n).forEach(function(a){e[a]=n[a].bind(e)})})}(O)),O.exports}export{W as r};
