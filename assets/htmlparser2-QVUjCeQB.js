import{o as _e,m as he}from"./@babel-houl6Xsg.js";import{d as fe,r as le,a as pe,b as ce}from"./entities-05SZEo_X.js";import{i as w}from"./inherits-BlmhoU4v.js";import{e as de}from"./events-CXH2uRM3.js";import{r as ut}from"./domutils-nv7eZwOX.js";import{r as ue}from"./string_decoder-DSI1wpto.js";import{r as be}from"./buffer-DT9VzwNJ.js";var F={exports:{}},bt=s,ye=fe,ge=le,st=pe,me=ce,r=0,l=r++,yt=r++,A=r++,gt=r++,mt=r++,B=r++,Et=r++,v=r++,O=r++,j=r++,Y=r++,U=r++,$=r++,G=r++,St=r++,x=r++,xt=r++,vt=r++,R=r++,W=r++,Q=r++,Tt=r++,At=r++,Ct=r++,It=r++,Nt=r++,Bt=r++,k=r++,X=r++,Z=r++,Rt=r++,kt=r++,Dt=r++,wt=r++,Ot=r++,Pt=r++,Ft=r++,Mt=r++,Lt=r++,Ht=r++,zt=r++,Vt=r++,qt=r++,jt=r++,Yt=r++,Ut=r++,$t=r++,Gt=r++,Wt=r++,Qt=r++,D=r++,Xt=r++,J=r++,K=r++,tt=r++,et=0,N=et++,Zt=et++,Jt=et++;function g(t){return t===" "||t===`
`||t==="	"||t==="\f"||t==="\r"}function m(t,i,e){var n=t.toLowerCase();return t===n?function(o){o===n?this._state=i:(this._state=e,this._index--)}:function(o){o===n||o===t?this._state=i:(this._state=e,this._index--)}}function C(t,i){var e=t.toLowerCase();return function(n){n===e||n===t?this._state=i:(this._state=A,this._index--)}}function s(t,i){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=N,this._cbs=i,this._running=!0,this._ended=!1,this._xmlMode=!!(t&&t.xmlMode),this._decodeEntities=!!(t&&t.decodeEntities)}s.prototype._stateText=function(t){t==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=yt,this._sectionStart=this._index):this._decodeEntities&&this._special===N&&t==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=D,this._sectionStart=this._index)};s.prototype._stateBeforeTagName=function(t){t==="/"?this._state=mt:t==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):t===">"||this._special!==N||g(t)?this._state=l:t==="!"?(this._state=St,this._sectionStart=this._index+1):t==="?"?(this._state=xt,this._sectionStart=this._index+1):(this._state=!this._xmlMode&&(t==="s"||t==="S")?Rt:A,this._sectionStart=this._index)};s.prototype._stateInTagName=function(t){(t==="/"||t===">"||g(t))&&(this._emitToken("onopentagname"),this._state=v,this._index--)};s.prototype._stateBeforeCloseingTagName=function(t){g(t)||(t===">"?this._state=l:this._special!==N?t==="s"||t==="S"?this._state=kt:(this._state=l,this._index--):(this._state=B,this._sectionStart=this._index))};s.prototype._stateInCloseingTagName=function(t){(t===">"||g(t))&&(this._emitToken("onclosetag"),this._state=Et,this._index--)};s.prototype._stateAfterCloseingTagName=function(t){t===">"&&(this._state=l,this._sectionStart=this._index+1)};s.prototype._stateBeforeAttributeName=function(t){t===">"?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):t==="/"?this._state=gt:g(t)||(this._state=O,this._sectionStart=this._index)};s.prototype._stateInSelfClosingTag=function(t){t===">"?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):g(t)||(this._state=v,this._index--)};s.prototype._stateInAttributeName=function(t){(t==="="||t==="/"||t===">"||g(t))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=j,this._index--)};s.prototype._stateAfterAttributeName=function(t){t==="="?this._state=Y:t==="/"||t===">"?(this._cbs.onattribend(),this._state=v,this._index--):g(t)||(this._cbs.onattribend(),this._state=O,this._sectionStart=this._index)};s.prototype._stateBeforeAttributeValue=function(t){t==='"'?(this._state=U,this._sectionStart=this._index+1):t==="'"?(this._state=$,this._sectionStart=this._index+1):g(t)||(this._state=G,this._sectionStart=this._index,this._index--)};s.prototype._stateInAttributeValueDoubleQuotes=function(t){t==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v):this._decodeEntities&&t==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=D,this._sectionStart=this._index)};s.prototype._stateInAttributeValueSingleQuotes=function(t){t==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v):this._decodeEntities&&t==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=D,this._sectionStart=this._index)};s.prototype._stateInAttributeValueNoQuotes=function(t){g(t)||t===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v,this._index--):this._decodeEntities&&t==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=D,this._sectionStart=this._index)};s.prototype._stateBeforeDeclaration=function(t){this._state=t==="["?Tt:t==="-"?vt:x};s.prototype._stateInDeclaration=function(t){t===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)};s.prototype._stateInProcessingInstruction=function(t){t===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)};s.prototype._stateBeforeComment=function(t){t==="-"?(this._state=R,this._sectionStart=this._index+1):this._state=x};s.prototype._stateInComment=function(t){t==="-"&&(this._state=W)};s.prototype._stateAfterComment1=function(t){t==="-"?this._state=Q:this._state=R};s.prototype._stateAfterComment2=function(t){t===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):t!=="-"&&(this._state=R)};s.prototype._stateBeforeCdata1=m("C",At,x);s.prototype._stateBeforeCdata2=m("D",Ct,x);s.prototype._stateBeforeCdata3=m("A",It,x);s.prototype._stateBeforeCdata4=m("T",Nt,x);s.prototype._stateBeforeCdata5=m("A",Bt,x);s.prototype._stateBeforeCdata6=function(t){t==="["?(this._state=k,this._sectionStart=this._index+1):(this._state=x,this._index--)};s.prototype._stateInCdata=function(t){t==="]"&&(this._state=X)};s.prototype._stateAfterCdata1=function(t){t==="]"?this._state=Z:this._state=k};s.prototype._stateAfterCdata2=function(t){t===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):t!=="]"&&(this._state=k)};s.prototype._stateBeforeSpecial=function(t){t==="c"||t==="C"?this._state=Dt:t==="t"||t==="T"?this._state=qt:(this._state=A,this._index--)};s.prototype._stateBeforeSpecialEnd=function(t){this._special===Zt&&(t==="c"||t==="C")?this._state=Mt:this._special===Jt&&(t==="t"||t==="T")?this._state=$t:this._state=l};s.prototype._stateBeforeScript1=C("R",wt);s.prototype._stateBeforeScript2=C("I",Ot);s.prototype._stateBeforeScript3=C("P",Pt);s.prototype._stateBeforeScript4=C("T",Ft);s.prototype._stateBeforeScript5=function(t){(t==="/"||t===">"||g(t))&&(this._special=Zt),this._state=A,this._index--};s.prototype._stateAfterScript1=m("R",Lt,l);s.prototype._stateAfterScript2=m("I",Ht,l);s.prototype._stateAfterScript3=m("P",zt,l);s.prototype._stateAfterScript4=m("T",Vt,l);s.prototype._stateAfterScript5=function(t){t===">"||g(t)?(this._special=N,this._state=B,this._sectionStart=this._index-6,this._index--):this._state=l};s.prototype._stateBeforeStyle1=C("Y",jt);s.prototype._stateBeforeStyle2=C("L",Yt);s.prototype._stateBeforeStyle3=C("E",Ut);s.prototype._stateBeforeStyle4=function(t){(t==="/"||t===">"||g(t))&&(this._special=Jt),this._state=A,this._index--};s.prototype._stateAfterStyle1=m("Y",Gt,l);s.prototype._stateAfterStyle2=m("L",Wt,l);s.prototype._stateAfterStyle3=m("E",Qt,l);s.prototype._stateAfterStyle4=function(t){t===">"||g(t)?(this._special=N,this._state=B,this._sectionStart=this._index-5,this._index--):this._state=l};s.prototype._stateBeforeEntity=m("#",Xt,J);s.prototype._stateBeforeNumericEntity=m("X",tt,K);s.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),i=this._xmlMode?me:ge;i.hasOwnProperty(t)&&(this._emitPartial(i[t]),this._sectionStart=this._index+1)}};s.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,i=this._index-t;for(i>6&&(i=6);i>=2;){var e=this._buffer.substr(t,i);if(st.hasOwnProperty(e)){this._emitPartial(st[e]),this._sectionStart+=i+1;return}else i--}};s.prototype._stateInNamedEntity=function(t){t===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(t<"a"||t>"z")&&(t<"A"||t>"Z")&&(t<"0"||t>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?t!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)};s.prototype._decodeNumericEntity=function(t,i){var e=this._sectionStart+t;if(e!==this._index){var n=this._buffer.substring(e,this._index),o=parseInt(n,i);this._emitPartial(ye(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState};s.prototype._stateInNumericEntity=function(t){t===";"?(this._decodeNumericEntity(2,10),this._sectionStart++):(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)};s.prototype._stateInHexEntity=function(t){t===";"?(this._decodeNumericEntity(3,16),this._sectionStart++):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)};s.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)};s.prototype.write=function(t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=t,this._parse()};s.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var t=this._buffer.charAt(this._index);this._state===l?this._stateText(t):this._state===yt?this._stateBeforeTagName(t):this._state===A?this._stateInTagName(t):this._state===mt?this._stateBeforeCloseingTagName(t):this._state===B?this._stateInCloseingTagName(t):this._state===Et?this._stateAfterCloseingTagName(t):this._state===gt?this._stateInSelfClosingTag(t):this._state===v?this._stateBeforeAttributeName(t):this._state===O?this._stateInAttributeName(t):this._state===j?this._stateAfterAttributeName(t):this._state===Y?this._stateBeforeAttributeValue(t):this._state===U?this._stateInAttributeValueDoubleQuotes(t):this._state===$?this._stateInAttributeValueSingleQuotes(t):this._state===G?this._stateInAttributeValueNoQuotes(t):this._state===St?this._stateBeforeDeclaration(t):this._state===x?this._stateInDeclaration(t):this._state===xt?this._stateInProcessingInstruction(t):this._state===vt?this._stateBeforeComment(t):this._state===R?this._stateInComment(t):this._state===W?this._stateAfterComment1(t):this._state===Q?this._stateAfterComment2(t):this._state===Tt?this._stateBeforeCdata1(t):this._state===At?this._stateBeforeCdata2(t):this._state===Ct?this._stateBeforeCdata3(t):this._state===It?this._stateBeforeCdata4(t):this._state===Nt?this._stateBeforeCdata5(t):this._state===Bt?this._stateBeforeCdata6(t):this._state===k?this._stateInCdata(t):this._state===X?this._stateAfterCdata1(t):this._state===Z?this._stateAfterCdata2(t):this._state===Rt?this._stateBeforeSpecial(t):this._state===kt?this._stateBeforeSpecialEnd(t):this._state===Dt?this._stateBeforeScript1(t):this._state===wt?this._stateBeforeScript2(t):this._state===Ot?this._stateBeforeScript3(t):this._state===Pt?this._stateBeforeScript4(t):this._state===Ft?this._stateBeforeScript5(t):this._state===Mt?this._stateAfterScript1(t):this._state===Lt?this._stateAfterScript2(t):this._state===Ht?this._stateAfterScript3(t):this._state===zt?this._stateAfterScript4(t):this._state===Vt?this._stateAfterScript5(t):this._state===qt?this._stateBeforeStyle1(t):this._state===jt?this._stateBeforeStyle2(t):this._state===Yt?this._stateBeforeStyle3(t):this._state===Ut?this._stateBeforeStyle4(t):this._state===$t?this._stateAfterStyle1(t):this._state===Gt?this._stateAfterStyle2(t):this._state===Wt?this._stateAfterStyle3(t):this._state===Qt?this._stateAfterStyle4(t):this._state===D?this._stateBeforeEntity(t):this._state===Xt?this._stateBeforeNumericEntity(t):this._state===J?this._stateInNamedEntity(t):this._state===K?this._stateInNumericEntity(t):this._state===tt?this._stateInHexEntity(t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()};s.prototype.pause=function(){this._running=!1};s.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()};s.prototype.end=function(t){this._ended&&this._cbs.onerror(Error(".end() after done!")),t&&this.write(t),this._ended=!0,this._running&&this._finish()};s.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()};s.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);this._state===k||this._state===X||this._state===Z?this._cbs.oncdata(t):this._state===R||this._state===W||this._state===Q?this._cbs.oncomment(t):this._state===J&&!this._xmlMode?(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===K&&!this._xmlMode?(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===tt&&!this._xmlMode?(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state!==A&&this._state!==v&&this._state!==Y&&this._state!==j&&this._state!==O&&this._state!==$&&this._state!==U&&this._state!==G&&this._state!==B&&this._cbs.ontext(t)};s.prototype.reset=function(){s.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)};s.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index};s.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)};s.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1};s.prototype._emitPartial=function(t){this._baseState!==l?this._cbs.onattribdata(t):this._cbs.ontext(t)};var rt=bt,I={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},nt={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:I,input:I,output:I,button:I,datalist:I,textarea:I,option:{option:!0},optgroup:{optgroup:!0}},it={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Kt={__proto__:null,math:!0,svg:!0},te={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},Ee=/\s|\//;function h(t,i){this._options=i||{},this._cbs=t||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(rt=this._options.Tokenizer),this._tokenizer=new rt(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}w(h,de.EventEmitter);h.prototype._updatePosition=function(t){this.endIndex===null?this._tokenizer._sectionStart<=t?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()};h.prototype.ontext=function(t){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(t)};h.prototype.onopentagname=function(t){if(this._lowerCaseTagNames&&(t=t.toLowerCase()),this._tagname=t,!this._options.xmlMode&&t in nt)for(var i;(i=this._stack[this._stack.length-1])in nt[t];this.onclosetag(i));(this._options.xmlMode||!(t in it))&&(this._stack.push(t),t in Kt?this._foreignContext.push(!0):t in te&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(t),this._cbs.onopentag&&(this._attribs={})};h.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in it&&this._cbs.onclosetag(this._tagname),this._tagname=""};h.prototype.onclosetag=function(t){if(this._updatePosition(1),this._lowerCaseTagNames&&(t=t.toLowerCase()),(t in Kt||t in te)&&this._foreignContext.pop(),this._stack.length&&(!(t in it)||this._options.xmlMode)){var i=this._stack.lastIndexOf(t);if(i!==-1)if(this._cbs.onclosetag)for(i=this._stack.length-i;i--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=i;else t==="p"&&!this._options.xmlMode&&(this.onopentagname(t),this._closeCurrentTag())}else!this._options.xmlMode&&(t==="br"||t==="p")&&(this.onopentagname(t),this._closeCurrentTag())};h.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()};h.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===t&&(this._cbs.onclosetag&&this._cbs.onclosetag(t),this._stack.pop())};h.prototype.onattribname=function(t){this._lowerCaseAttributeNames&&(t=t.toLowerCase()),this._attribname=t};h.prototype.onattribdata=function(t){this._attribvalue+=t};h.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""};h.prototype._getInstructionName=function(t){var i=t.search(Ee),e=i<0?t:t.substr(0,i);return this._lowerCaseTagNames&&(e=e.toLowerCase()),e};h.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var i=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+i,"!"+t)}};h.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var i=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+i,"?"+t)}};h.prototype.oncomment=function(t){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(t),this._cbs.oncommentend&&this._cbs.oncommentend()};h.prototype.oncdata=function(t){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(t),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+t+"]]")};h.prototype.onerror=function(t){this._cbs.onerror&&this._cbs.onerror(t)};h.prototype.onend=function(){if(this._cbs.onclosetag)for(var t=this._stack.length;t>0;this._cbs.onclosetag(this._stack[--t]));this._cbs.onend&&this._cbs.onend()};h.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)};h.prototype.parseComplete=function(t){this.reset(),this.end(t)};h.prototype.write=function(t){this._tokenizer.write(t)};h.prototype.end=function(t){this._tokenizer.end(t)};h.prototype.pause=function(){this._tokenizer.pause()};h.prototype.resume=function(){this._tokenizer.resume()};h.prototype.parseChunk=h.prototype.write;h.prototype.done=h.prototype.end;var ee=h,ie={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(t){return t.type==="tag"||t.type==="script"||t.type==="style"}},se={exports:{}};se.exports={get firstChild(){var t=this.children;return t&&t[0]||null},get lastChild(){var t=this.children;return t&&t[t.length-1]||null},get nodeType(){return ot[this.type]||ot.element}};var Se={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},ot={element:1,text:3,cdata:4,comment:8};Object.keys(Se).forEach(function(t){});var re=se.exports,ne={exports:{}},xe=re,ve=ne.exports=Object.create(xe),at={tagName:"name"};Object.keys(at).forEach(function(t){var i=at[t];Object.defineProperty(ve,t,{get:function(){return this[i]||null},set:function(e){return this[i]=e,e}})});var Te=ne.exports,S=ie,M=/\s+/g,Ae=re,Ce=Te;function d(t,i,e){typeof t=="object"?(e=i,i=t,t=null):typeof i=="function"&&(e=i,i=_t),this._callback=t,this._options=i||_t,this._elementCB=e,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var _t={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};d.prototype.onparserinit=function(t){this._parser=t};d.prototype.onreset=function(){d.call(this,this._callback,this._options,this._elementCB)};d.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))};d.prototype._handleCallback=d.prototype.onerror=function(t){if(typeof this._callback=="function")this._callback(t,this.dom);else if(t)throw t};d.prototype.onclosetag=function(){var t=this._tagStack.pop();this._options.withEndIndices&&t&&(t.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(t)};d.prototype._createDomElement=function(t){if(!this._options.withDomLvl1)return t;var i;t.type==="tag"?i=Object.create(Ce):i=Object.create(Ae);for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i};d.prototype._addDomElement=function(t){var i=this._tagStack[this._tagStack.length-1],e=i?i.children:this.dom,n=e[e.length-1];t.next=null,this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withEndIndices&&(t.endIndex=this._parser.endIndex),n?(t.prev=n,n.next=t):t.prev=null,e.push(t),t.parent=i||null};d.prototype.onopentag=function(t,i){var e={type:t==="script"?S.Script:t==="style"?S.Style:S.Tag,name:t,attribs:i,children:[]},n=this._createDomElement(e);this._addDomElement(n),this._tagStack.push(n)};d.prototype.ontext=function(t){var i=this._options.normalizeWhitespace||this._options.ignoreWhitespace,e;if(!this._tagStack.length&&this.dom.length&&(e=this.dom[this.dom.length-1]).type===S.Text)i?e.data=(e.data+t).replace(M," "):e.data+=t;else if(this._tagStack.length&&(e=this._tagStack[this._tagStack.length-1])&&(e=e.children[e.children.length-1])&&e.type===S.Text)i?e.data=(e.data+t).replace(M," "):e.data+=t;else{i&&(t=t.replace(M," "));var n=this._createDomElement({data:t,type:S.Text});this._addDomElement(n)}};d.prototype.oncomment=function(t){var i=this._tagStack[this._tagStack.length-1];if(i&&i.type===S.Comment){i.data+=t;return}var e={data:t,type:S.Comment},n=this._createDomElement(e);this._addDomElement(n),this._tagStack.push(n)};d.prototype.oncdatastart=function(){var t={children:[{data:"",type:S.Text}],type:S.CDATA},i=this._createDomElement(t);this._addDomElement(i),this._tagStack.push(i)};d.prototype.oncommentend=d.prototype.oncdataend=function(){this._tagStack.pop()};d.prototype.onprocessinginstruction=function(t,i){var e=this._createDomElement({name:t,data:i,type:S.Directive});this._addDomElement(e)};var oe=d,L,ht;function Ie(){if(ht)return L;ht=1;var t=oe,i=ut();function e(a,c){this.init(a,c)}w(e,t),e.prototype.init=t;function n(a,c){return i.getElementsByTagName(a,c,!0)}function o(a,c){return i.getElementsByTagName(a,c,!0,1)[0]}function _(a,c,y){return i.getText(i.getElementsByTagName(a,c,y,1)).trim()}function f(a,c,y,u,p){var b=_(y,u,p);b&&(a[c]=b)}var T=function(a){return a==="rss"||a==="feed"||a==="rdf:RDF"};return e.prototype.onend=function(){var a={},c=o(T,this.dom),y,u;c&&(c.name==="feed"?(u=c.children,a.type="atom",f(a,"id","id",u),f(a,"title","title",u),(y=o("link",u))&&(y=y.attribs)&&(y=y.href)&&(a.link=y),f(a,"description","subtitle",u),(y=_("updated",u))&&(a.updated=new Date(y)),f(a,"author","email",u,!0),a.items=n("entry",u).map(function(p){var b={},E;return p=p.children,f(b,"id","id",p),f(b,"title","title",p),(E=o("link",p))&&(E=E.attribs)&&(E=E.href)&&(b.link=E),(E=_("summary",p)||_("content",p))&&(b.description=E),(E=_("updated",p))&&(b.pubDate=new Date(E)),b})):(u=o("channel",c.children).children,a.type=c.name.substr(0,3),a.id="",f(a,"title","title",u),f(a,"link","link",u),f(a,"description","description",u),(y=_("lastBuildDate",u))&&(a.updated=new Date(y)),f(a,"author","managingEditor",u,!0),a.items=n("item",c.children).map(function(p){var b={},E;return p=p.children,f(b,"id","guid",p),f(b,"title","title",p),f(b,"link","link",p),f(b,"description","description",p),(E=_("pubDate",p))&&(b.pubDate=new Date(E)),b}))),this.dom=a,t.prototype._handleCallback.call(this,c?null:Error("couldn't find root of feed"))},L=e,L}const Ne={},Be=Object.freeze(Object.defineProperty({__proto__:null,default:Ne},Symbol.toStringTag,{value:"Module"})),Re=_e(Be);var H,ft;function ae(){if(ft)return H;ft=1,H=o;var t=ee,i=Re.Writable,e=ue().StringDecoder,n=be().Buffer;function o(_,f){var T=this._parser=new t(_,f),a=this._decoder=new e;i.call(this,{decodeStrings:!1}),this.once("finish",function(){T.end(a.end())})}return w(o,i),o.prototype._write=function(_,f,T){_ instanceof n&&(_=this._decoder.write(_)),this._parser.write(_),T()},H}var z,lt;function ke(){if(lt)return z;lt=1,z=i;var t=ae();function i(o){t.call(this,new e(this),o)}w(i,t),i.prototype.readable=!0;function e(o){this.scope=o}var n=P().EVENTS;return Object.keys(n).forEach(function(o){if(n[o]===0)e.prototype["on"+o]=function(){this.scope.emit(o)};else if(n[o]===1)e.prototype["on"+o]=function(_){this.scope.emit(o,_)};else if(n[o]===2)e.prototype["on"+o]=function(_,f){this.scope.emit(o,_,f)};else throw Error("wrong number of arguments!")}),z}var V,pt;function De(){if(pt)return V;pt=1,V=t;function t(e){this._cbs=e||{}}var i=P().EVENTS;return Object.keys(i).forEach(function(e){if(i[e]===0)e="on"+e,t.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(i[e]===1)e="on"+e,t.prototype[e]=function(n){this._cbs[e]&&this._cbs[e](n)};else if(i[e]===2)e="on"+e,t.prototype[e]=function(n,o){this._cbs[e]&&this._cbs[e](n,o)};else throw Error("wrong number of arguments")}),V}var q,ct;function we(){if(ct)return q;ct=1,q=t;function t(e){this._cbs=e||{},this.events=[]}var i=P().EVENTS;return Object.keys(i).forEach(function(e){if(i[e]===0)e="on"+e,t.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(i[e]===1)e="on"+e,t.prototype[e]=function(n){this.events.push([e,n]),this._cbs[e]&&this._cbs[e](n)};else if(i[e]===2)e="on"+e,t.prototype[e]=function(n,o){this.events.push([e,n,o]),this._cbs[e]&&this._cbs[e](n,o)};else throw Error("wrong number of arguments")}),t.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},t.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,n=this.events.length;e<n;e++)if(this._cbs[this.events[e][0]]){var o=this.events[e].length;o===1?this._cbs[this.events[e][0]]():o===2?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}},q}var dt;function P(){return dt||(dt=1,function(t){var i=ee,e=oe;function n(o,_){return delete t.exports[o],t.exports[o]=_,_}t.exports={Parser:i,Tokenizer:bt,ElementType:ie,DomHandler:e,get FeedHandler(){return n("FeedHandler",Ie())},get Stream(){return n("Stream",ke())},get WritableStream(){return n("WritableStream",ae())},get ProxyHandler(){return n("ProxyHandler",De())},get DomUtils(){return n("DomUtils",ut())},get CollectingHandler(){return n("CollectingHandler",we())},DefaultHandler:e,get RssHandler(){return n("RssHandler",this.FeedHandler)},parseDOM:function(o,_){var f=new e(_);return new i(f,_).end(o),f.dom},parseFeed:function(o,_){var f=new t.exports.FeedHandler(_);return new i(f,_).end(o),f.dom},createDomStream:function(o,_,f){var T=new e(o,_,f);return new i(T,_)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}}(F)),F.exports}var Oe=P();const qe=he(Oe);export{qe as h,Oe as l};
