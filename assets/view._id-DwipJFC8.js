import{r as v,j as o}from"./react-Bpj1It56.js";import{u as j,V as y}from"./useVideo-CqkvqElO.js";import{u as N,i as k,l as B,f as D}from"./main-hZYZiN6R.js";import{s as V}from"./@heroui-CIH5ufY4.js";import"./@babel-houl6Xsg.js";import"./core-js-pure-evcE_T-D.js";import"./@tanstack-BQ3PdJvV.js";import"./react-dom-By78mrQC.js";import"./scheduler-8y5VlOXR.js";import"./tiny-invariant-CopsF_GD.js";import"./tiny-warning-Dirz_SfZ.js";import"./use-sync-external-store-Ct5KFJC2.js";import"./react-scroll-to-bottom-CTjbJ2mK.js";import"./core-js-Dho04YfF.js";import"./@emotion-CBpc3bmA.js";import"./stylis-YPZU7XtI.js";import"./math-random-BDtfBM1x.js";import"./axios-DXsv3KKR.js";import"./idb-Bn1DMRyg.js";import"./react-helmet-async-BL1df5qm.js";import"./react-fast-compare-CoPa2Gs5.js";import"./invariant-BaQWlx5Y.js";import"./shallowequal-QcPrNyiR.js";import"./react-transition-group-CwkOSmso.js";import"./dom-helpers-k64VTSqm.js";import"./react-toastify-BeNbc-FJ.js";import"./clsx-B-dksMZM.js";import"./antd-Cx7N9Psy.js";import"./rc-util-BDnH4PQc.js";import"./@ant-design-AtsPa5Ww.js";import"./classnames-C0_Vbuxc.js";import"./@ctrl-DOFZgDuz.js";import"./rc-motion-BrDRrNAo.js";import"./@rc-component-DfZBjsxQ.js";import"./dayjs-DYhqyFLG.js";import"./rc-field-form-C5nkFfg4.js";import"./rc-image-CJVIC9RT.js";import"./rc-dialog-Oy9-Ncdj.js";import"./rc-pagination-BRLbcoVp.js";import"./rc-picker-oSZthl20.js";import"./smoothscroll-polyfill-DfrSojlF.js";import"./@react-aria-xE5HBTkH.js";import"./@react-stately-BNzC-r0j.js";import"./@internationalized-C6LEMtSM.js";import"./@swc-h1AXYk7E.js";import"./react-icons-C88MKWVs.js";import"./lodash.debounce-DOTX7tph.js";import"./dompurify-CocPUCx9.js";import"./react-highlight-words-yh67jzXc.js";import"./react-html-parser-Bzk_WztA.js";import"./htmlparser2-QVUjCeQB.js";import"./entities-05SZEo_X.js";import"./inherits-BlmhoU4v.js";import"./events-CXH2uRM3.js";import"./domutils-nv7eZwOX.js";import"./dom-serializer-C1mRqh9f.js";import"./domelementtype-C_FFwB5S.js";import"./string_decoder-DSI1wpto.js";import"./safe-buffer-CMTcrbJ_.js";import"./buffer-DT9VzwNJ.js";import"./base64-js-DRz5BQNA.js";import"./ieee754-vIlwft-x.js";import"./react-big-calendar-BzSGFtnG.js";import"./uncontrollable-Dt8teSny.js";import"./react-lifecycles-compat-AfN2QaV3.js";import"./prop-types-D1h4IAre.js";import"./date-arithmetic-DrY26MJF.js";import"./lodash-Cj-1ifDK.js";import"./react-overlays-0MuLoRkH.js";import"./@restart-JGbTMMQN.js";import"./@popperjs-DMGSESOy.js";import"./warning-Dwrh-cZ9.js";import"./memoize-one-BdPwpGay.js";import"./swiper-DTw7uyIM.js";import"./framer-motion-BfgC9wdC.js";import"./motion-utils-C_SlKRoS.js";import"./motion-dom-DWDx2Ux7.js";import"./scroll-into-view-if-needed-BHvttMQE.js";import"./compute-scroll-into-view-DWa9QgjM.js";import"./tailwind-variants-wBLq28id.js";import"./tailwind-merge-CYizakiM.js";function R(r){try{const s=/(?:youtu\.be\/|youtube\.com\/(?:.*v=|.*\/|.*embed\/|.*shorts\/))([\w-]+)/,n=r.match(s);if(n)return`https://www.youtube.com/embed/${n[1]}?autoplay=1&mute=0&rel=0&playsinline=1`;const e=/drive\.google\.com\/file\/d\/([\w-]+)\//,m=r.match(e);if(m)return`https://drive.google.com/file/d/${m[1]}/preview`;const l=/facebook\.com\/watch\/\?v=([\d]+)/,t=r.match(l);if(t)return`https://www.facebook.com/video/embed?video_id=${t[1]}&autoplay=1&muted=1`;const p=/facebook\.com\/.*\/videos\/([\d]+)/,i=r.match(p);return i?`https://www.facebook.com/video/embed?video_id=${i[1]}&autoplay=1&muted=1`:null}catch(s){return console.error("Failed to extract video link:",s),null}}const it=function(){var u,f,b;const{scrollContainerRef:s}=N(),n=k.useParams(),{data:e,isLoading:m}=j(),{id:l}=n,t=e==null?void 0:e.filter(c=>l?c.ID===l:!0),p=((u=t==null?void 0:t[0])==null?void 0:u.link)||"",i=((f=t==null?void 0:t[0])==null?void 0:f.ຊື່ພຣະສູດ)||"Untitled Video",d=((b=t==null?void 0:t[0])==null?void 0:b.ໝວດທັມ)||"",a=R(p),w=typeof window<"u"?window.location.href:void 0,g=typeof window<"u"?`${window.location.origin}/video/view/${l}`:void 0,h=d||"ວິດີໂອ ຄຳສອນພຸດທະ",x=a?{"@context":"https://schema.org","@type":"VideoObject",name:i,description:h,embedUrl:a,thumbnailUrl:[]}:null;return v.useEffect(()=>{B.setTitle(i)},[i]),o.jsxs(o.Fragment,{children:[o.jsx(D,{title:`${i} | ຄຳສອນພຸດທະ`,description:h,url:w,canonical:g,type:"video.other",schemaJson:x}),o.jsxs("section",{ref:s,className:"w-full min-h-screen items-center justify-center",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs("div",{className:"w-full max-w-6xl aspect-video",children:[a?o.jsx(o.Fragment,{children:o.jsx("iframe",{id:"videoPlayer",width:"100%",height:"100%",src:a,title:"Video Player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen",allowFullScreen:!0,className:"shadow-lg",style:{border:"none",overflow:"hidden"},scrolling:"no",frameBorder:"0"},a)}):o.jsx("p",{className:"text-red-500 text-center py-10",children:"Invalid or missing YouTube link"}),o.jsxs("div",{className:"relative w-full mt-0 h-6 sm:h-5 md:h-6 lg:h-8 z-1",style:{width:"100%",transition:"width 0.3s ease-in-out"},children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 sm:h-3 md:h-4 bg-[#B96A44] shadow-lg"}),o.jsx("div",{className:"absolute top-1 left-0 w-full h-2 sm:h-1.5 bg-[#E0895C] shadow mb-0",style:{marginBottom:"-5.5em"}}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-[#A65D3B] shadow-inner mb-4"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 mb:h-1 sm:h-2 lg:h-2 bg-[#B96A44] shadow-inner mb-3"}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-4 bg-[#E0895C] opacity-50"}),o.jsx("div",{className:"absolute -top-2 left-2 w-[96%] h-4 bg-black opacity-10 blur-md"})]})]})}),o.jsx("div",{className:"w-full max-w-6xl mx-auto p-4",style:{marginTop:"0rem",marginBottom:"-2.5rem"},children:o.jsxs("h1",{className:"font-bold text-[#fff] dark:text-white text-center",style:{fontSize:"1rem"},children:[i," (",d,")"]})}),o.jsx("div",{className:"flex flex-col items-center justify-center mb-5",children:m?o.jsx("div",{className:"w-full flex justify-center mt-8",children:o.jsx(V,{size:"lg"})}):o.jsx("div",{className:"grid gap-3 grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3 mb-20",children:e==null?void 0:e.slice().reverse().map(c=>o.jsxs("div",{className:"flex flex-col items-center",style:{marginBottom:"-2.3rem"},children:[o.jsx(y,{id:c.ID,item:c,isLoading:m}),o.jsxs("div",{className:"relative w-full mt-4 h-6 sm:h-5 md:h-6 lg:h-8 z-1",style:{width:"105%",transition:"width 0.3s ease-in-out"},children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 sm:h-3 md:h-4 bg-[#B96A44] shadow-lg"}),o.jsx("div",{className:"absolute top-1 left-0 w-full h-2 sm:h-1.5 bg-[#E0895C] shadow mb-0",style:{marginBottom:"-5.5em"}}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-[#A65D3B] shadow-inner mb-4"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 mb:h-1 sm:h-2 lg:h-2 bg-[#B96A44] shadow-inner mb-3"}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-4 bg-[#E0895C] opacity-50"}),o.jsx("div",{className:"absolute -top-2 left-2 w-[96%] h-4 bg-black opacity-10 blur-md"})]})]},c.ID))})})]})]})};export{it as component};
